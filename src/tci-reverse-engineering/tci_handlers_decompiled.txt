Target string not found via memory scan. Falling back to known address.
Found string at 1003b836d
================================================================================
Function: std::__function::__func<CEditorPane::CEditorPane(CEDInstrument*,MainComponent*,CColourMgr*)::$_2,std::allocator<CEditorPane::CEditorPane(CEDInstrument*,MainComponent*,CColourMgr*)::$_2>,void()>::operator() @ 100110500
================================================================================

/* WARNING: Removing unreachable block (ram,0x000100110e80) */
/* WARNING: Removing unreachable block (ram,0x000100110820) */
/* WARNING: Removing unreachable block (ram,0x00010011082d) */
/* WARNING: Removing unreachable block (ram,0x000100111404) */
/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */
/* std::__function::__func<CEditorPane::CEditorPane(CEDInstrument*, MainComponent*,
   CColourMgr*)::$_2, std::allocator<CEditorPane::CEditorPane(CEDInstrument*, MainComponent*,
   CColourMgr*)::$_2>, void ()>::TEMPNAMEPLACEHOLDERVALUE() */

void __thiscall
std::__function::
__func<CEditorPane::CEditorPane(CEDInstrument*,MainComponent*,CColourMgr*)::$_2,std::allocator<CEditorPane::CEditorPane(CEDInstrument*,MainComponent*,CColourMgr*)::$_2>,void()>
::operator()(__func<CEditorPane::CEditorPane(CEDInstrument*,MainComponent*,CColourMgr*)::__2,std::allocator<CEditorPane::CEditorPane(CEDInstrument*,MainComponent*,CColourMgr*)::__2>,void()>
             *this)

{
  String *pSVar1;
  byte *pbVar2;
  float *pfVar3;
  undefined8 *puVar4;
  float *pfVar5;
  float fVar6;
  float fVar7;
  float fVar8;
  float fVar9;
  uint uVar10;
  int iVar11;
  long lVar12;
  CInstrumentArticulation *pCVar13;
  undefined1 auVar14 [16];
  code *pcVar15;
  float fVar16;
  float fVar17;
  float fVar18;
  float fVar19;
  float fVar20;
  float fVar21;
  bool bVar22;
  undefined8 uVar23;
  undefined1 auVar24 [8];
  long *plVar25;
  char cVar26;
  int iVar27;
  int iVar28;
  undefined4 *puVar29;
  int *piVar30;
  long *plVar31;
  CInstrumentSerializer *pCVar32;
  vector<CInstrumentArticulation,std::allocator<CInstrumentArticulation>> *pvVar33;
  CWaveDataPool *this_00;
  size_t sVar34;
  long lVar35;
  CWaveData *pCVar36;
  void *pvVar37;
  __tree_node_base *p_Var38;
  long lVar39;
  FILE *pFVar40;
  void *pvVar41;
  long lVar42;
  String *pSVar43;
  ulong uVar44;
  String SVar45;
  byte bVar46;
  ulong uVar47;
  ulong uVar48;
  undefined1 auVar49 [8];
  ulong uVar50;
  long *plVar51;
  ulong uVar52;
  CInstrumentArticulation *this_01;
  String *pSVar53;
  undefined1 *puVar54;
  byte *pbVar55;
  vector<CInstrumentArticulation,std::allocator<CInstrumentArticulation>> *pvVar56;
  ulong uVar57;
  undefined8 *puVar58;
  char *pcVar59;
  CInstrumentArticulation *pCVar60;
  int *piVar61;
  int *piVar62;
  bool bVar63;
  File *pFVar64;
  long lVar65;
  ulong uVar66;
  long *plVar67;
  int *piVar68;
  float fVar69;
  float fVar70;
  undefined1 auVar71 [16];
  int *local_200;
  undefined1 local_1f8 [16];
  vector<CInstrumentArticulation,std::allocator<CInstrumentArticulation>> *local_1e8;
  vector<CInstrumentArticulation,std::allocator<CInstrumentArticulation>> *local_1e0;
  ulong local_1d8;
  long local_1d0;
  vector<CInstrumentArticulation,std::allocator<CInstrumentArticulation>> *local_1c8;
  string local_1c0;
  undefined1 local_1bf [7];
  ulong local_1b8;
  undefined1 *local_1b0;
  String *local_1a8;
  vector<CInstrumentArticulation,std::allocator<CInstrumentArticulation>> *local_1a0;
  vector<CInstrumentArticulation,std::allocator<CInstrumentArticulation>> *local_198;
  ulong local_190;
  undefined1 local_188 [16];
  void *local_178;
  byte local_161;
  CInstrumentSerializer *local_160;
  int *local_158;
  char local_149;
  FileChooser local_148 [128];
  undefined1 local_c8 [8];
  char acStack_c0 [5];
  char acStack_bb [3];
  char local_b8 [5];
  undefined3 uStack_b3;
  undefined5 uStack_b0;
  undefined1 local_ab [16];
  undefined1 local_9b [15];
  undefined4 uStack_8c;
  long local_38;
  
  local_38 = *(long *)PTR____stack_chk_guard_1003d82a0;
  lVar12 = *(long *)(this + 8);
  puVar29 = operator_new__(0x43);
  LOCK();
  *puVar29 = 0;
  UNLOCK();
  *(undefined8 *)(puVar29 + 2) = 0x2c;
  local_c8 = (undefined1  [8])(puVar29 + 4);
  SVar45 = (String)0x53;
  lVar42 = 2;
  pSVar53 = (String *)local_c8;
  while( true ) {
    if ((char)SVar45 < '\0') {
      *pSVar53 = (String)((byte)SVar45 >> 6 | 0xc0);
      pSVar53[1] = (String)((byte)SVar45 & 0x3f | 0x80);
      pSVar53 = pSVar53 + 1;
    }
    else {
      *pSVar53 = SVar45;
    }
    pSVar43 = pSVar53 + 1;
    if (lVar42 == 0x2a) break;
    SVar45 = *(String *)("Select TCI file to load..." + lVar42 + 0x1a);
    if ((char)SVar45 < '\0') {
      pSVar53[1] = (String)((byte)SVar45 >> 6 | 0xc0);
      pSVar53[2] = (String)((byte)SVar45 & 0x3f | 0x80);
    }
    else {
      *pSVar43 = SVar45;
      pSVar43 = pSVar53;
    }
    pSVar53 = pSVar43 + 2;
    SVar45 = *(String *)("Select trigger instrument file to save..." + lVar42);
    lVar42 = lVar42 + 2;
  }
  *pSVar43 = (String)0x0;
  piVar30 = operator_new__(0x1f);
  pFVar64 = (File *)(lVar12 + 0x1600);
  LOCK();
  *piVar30 = 0;
  UNLOCK();
  piVar30[2] = 8;
  piVar30[3] = 0;
  piVar30[4] = 0x63742e2a;
  *(undefined2 *)(piVar30 + 5) = 0x69;
  local_188._0_8_ = piVar30 + 4;
  juce::FileChooser::FileChooser
            (local_148,(String *)local_c8,pFVar64,(String *)local_188,true,false,(Component *)0x0);
  LOCK();
  iVar27 = *piVar30;
  *piVar30 = *piVar30 + -1;
  UNLOCK();
  if (iVar27 == 0) {
    operator_delete__(piVar30);
  }
  pSVar53 = (String *)((long)local_c8 + -0x10);
  if (pSVar53 != (String *)&juce::emptyString) {
    LOCK();
    iVar27 = *(int *)pSVar53;
    *(int *)pSVar53 = *(int *)pSVar53 + -1;
    UNLOCK();
    if (iVar27 == 0) {
      operator_delete__(pSVar53);
    }
  }
  cVar26 = juce::FileChooser::showDialog((int)local_148,(FilePreviewComponent *)0x86);
  if (cVar26 == '\0') goto LAB_100112850;
  juce::FileChooser::getResult();
  piVar30 = (int *)(local_1d0 + -0x10);
  if (piVar30 != &juce::emptyString) {
    LOCK();
    *piVar30 = *piVar30 + 1;
    UNLOCK();
  }
  LOCK();
  lVar42 = *(long *)pFVar64;
  *(long *)pFVar64 = local_1d0;
  UNLOCK();
  piVar30 = (int *)(lVar42 + -0x10);
  if (piVar30 != &juce::emptyString) {
    LOCK();
    iVar27 = *piVar30;
    *piVar30 = *piVar30 + -1;
    UNLOCK();
    if (iVar27 == 0) {
      operator_delete__(piVar30);
    }
  }
  plVar31 = operator_new(8);
  *plVar31 = *(long *)(lVar12 + 0x270);
  juce::File::getFileNameWithoutExtension();
  pSVar53 = local_1a8;
  cVar26 = juce::String::endsWith(local_1a8,".tiprj");
  if (cVar26 != '\0') {
    iVar27 = 0;
    pSVar43 = pSVar53;
    do {
      SVar45 = *pSVar43;
      if ((char)SVar45 < '\0') {
        do {
          pSVar1 = pSVar43 + 1;
          pSVar43 = pSVar43 + 1;
        } while (((byte)*pSVar1 & 0xc0) == 0x80);
      }
      else {
        pSVar43 = pSVar43 + 1;
        if (SVar45 == (String)0x0) goto LAB_100110782;
      }
      iVar27 = iVar27 + 1;
    } while( true );
  }
LAB_1001107c6:
  juce::File::getPathUpToLastSlash();
  auVar24 = local_c8;
  pSVar53 = (String *)((long)local_c8 + -0x10);
  if (pSVar53 != (String *)&juce::emptyString) {
    LOCK();
    *(int *)pSVar53 = *(int *)pSVar53 + 1;
    UNLOCK();
  }
  LOCK();
  UNLOCK();
  pSVar53 = (String *)((long)local_c8 + -0x10);
  if (pSVar53 != (String *)&juce::emptyString) {
    LOCK();
    iVar27 = *(int *)pSVar53;
    *(int *)pSVar53 = *(int *)pSVar53 + -1;
    UNLOCK();
    if (iVar27 == 0) {
      operator_delete__(pSVar53);
    }
  }
  juce::String::appendCharPointer((String *)&local_1a8,".tci","");
  juce::File::addTrailingSeparator((File *)&local_1c8,(String *)auVar24);
  juce::String::operator+=((String *)&local_1c8,(String *)&local_1a8);
  juce::File::parseAbsolutePath((File *)local_188,(String *)&local_1c8);
  uVar23 = local_188._0_8_;
  if (*(char *)local_188._0_8_ == '\0') {
    bVar63 = false;
  }
  else {
    bVar63 = false;
    iVar27 = _access((char *)local_188._0_8_,0);
    if (iVar27 == 0) {
      if (*(char *)uVar23 == '\0') {
        bVar63 = true;
      }
      else {
        iVar27 = _stat_INODE64(uVar23,local_c8);
        bVar63 = ((ulong)local_c8 & 0x400000000000) == 0 || iVar27 != 0;
      }
    }
  }
  piVar30 = (int *)(uVar23 + -0x10);
  if (piVar30 != &juce::emptyString) {
    LOCK();
    iVar27 = *piVar30;
    *piVar30 = *piVar30 + -1;
    UNLOCK();
    if (iVar27 == 0) {
      operator_delete__(piVar30);
    }
  }
  if (bVar63) {
    juce::File::parseAbsolutePath((File *)local_c8,(String *)&local_1c8);
    juce::File::deleteFile((File *)local_c8);
    pSVar53 = (String *)((long)local_c8 + -0x10);
    if (pSVar53 != (String *)&juce::emptyString) {
      LOCK();
      iVar27 = *(int *)pSVar53;
      *(int *)pSVar53 = *(int *)pSVar53 + -1;
      UNLOCK();
      if (iVar27 == 0) {
        operator_delete__(pSVar53);
      }
    }
  }
  pvVar56 = (vector<CInstrumentArticulation,std::allocator<CInstrumentArticulation>> *)0x68;
  pCVar32 = operator_new(0x68);
  *(undefined1 (*) [16])pCVar32 = (undefined1  [16])0x0;
  pvVar33 = (vector<CInstrumentArticulation,std::allocator<CInstrumentArticulation>> *)
            (pCVar32 + 0x18);
  local_1a0 = pvVar33;
  this_00 = (CWaveDataPool *)(pCVar32 + 0x30);
  pCVar32[0x58] = (CInstrumentSerializer)0x0;
  *(undefined4 *)(pCVar32 + 0x5c) = 0;
  *(undefined1 (*) [16])(pCVar32 + 0x18) = (undefined1  [16])0x0;
  *(undefined1 (*) [16])(pCVar32 + 0x28) = (undefined1  [16])0x0;
  *(undefined1 (*) [16])(pCVar32 + 0x38) = (undefined1  [16])0x0;
  *(undefined8 *)(pCVar32 + 0x48) = 0;
  *(undefined8 *)(pCVar32 + 0x60) = 0x10000ac44;
  *(undefined4 *)(pCVar32 + 0x50) = 0xac44;
  local_1d8 = (ulong)*(int *)(*plVar31 + 0x80);
  *(undefined8 *)(pCVar32 + 0x20) = 0;
  local_160 = pCVar32;
  if (local_1d8 == 0) {
LAB_100111454:
    local_198 = local_1c8;
    local_188 = (undefined1  [16])0x0;
    local_178 = (void *)0x0;
    local_200 = (int *)local_1f8;
    local_1f8 = (undefined1  [16])0x0;
    lVar65 = *(long *)(pCVar32 + 0x18);
    lVar42 = *(long *)(pCVar32 + 0x20);
    if (lVar42 == lVar65) {
      local_188._8_8_ = (int *)0x0;
      piVar30 = (int *)0x0;
    }
    else {
      pvVar56 = (vector<CInstrumentArticulation,std::allocator<CInstrumentArticulation>> *)0x0;
      do {
        local_190 = (long)pvVar56 * 0x50;
        lVar39 = *(long *)(lVar65 + local_190);
        if ((int)((ulong)(*(long *)(lVar65 + 8 + local_190) - lVar39) >> 4) * -0x49249249 != 0) {
          local_1e8 = pvVar56;
          piVar30 = (int *)0x0;
          do {
            local_158 = piVar30;
            lVar39 = lVar39 + (long)piVar30 * 0x70;
            for (uVar52 = 0;
                uVar52 < (ulong)(*(long *)(lVar39 + 0x40) - *(long *)(lVar39 + 0x38) >> 2);
                uVar52 = uVar52 + 1) {
              *(ulong *)(lVar39 + 0x50) = uVar52;
              uVar50 = (ulong)*(uint *)(*(long *)(lVar39 + 0x38) + uVar52 * 4);
              plVar51 = (long *)local_1f8;
              plVar25 = (long *)local_1f8._0_8_;
              plVar67 = plVar51;
              if ((long *)local_1f8._0_8_ == (long *)0x0) {
LAB_100111609:
                p_Var38 = operator_new(0x28);
                *(ulong *)(p_Var38 + 0x20) = uVar50;
                *(undefined1 (*) [16])p_Var38 = (undefined1  [16])0x0;
                *(long **)(p_Var38 + 0x10) = plVar51;
                *plVar67 = (long)p_Var38;
                if (*(int **)local_200 != (int *)0x0) {
                  p_Var38 = (__tree_node_base *)*plVar67;
                  local_200 = *(int **)local_200;
                }
                __tree_balance_after_insert<std::__tree_node_base<void*>*>
                          ((__tree_node_base *)local_1f8._0_8_,p_Var38);
                local_1f8._8_8_ = local_1f8._8_8_ + 1;
              }
              else {
LAB_1001115ee:
                do {
                  plVar51 = plVar25;
                  if ((ulong)plVar51[4] <= uVar50) {
                    if ((ulong)plVar51[4] < uVar50) {
                      plVar67 = plVar51 + 1;
                      plVar25 = (long *)plVar51[1];
                      if ((long *)plVar51[1] != (long *)0x0) goto LAB_1001115ee;
                    }
                    if (*plVar67 != 0) goto LAB_100111597;
                    goto LAB_100111609;
                  }
                  plVar25 = (long *)*plVar51;
                  plVar67 = plVar51;
                } while ((long *)*plVar51 != (long *)0x0);
                if (*plVar51 == 0) goto LAB_100111609;
              }
LAB_100111597:
            }
            piVar30 = (int *)((long)local_158 + 1);
            lVar65 = *(long *)local_1a0;
            lVar39 = *(long *)(lVar65 + local_190);
          } while (piVar30 < (int *)(long)((int)((ulong)(*(long *)(lVar65 + 8 + local_190) - lVar39)
                                                >> 4) * -0x49249249));
          lVar42 = *(long *)(local_160 + 0x20);
          pvVar56 = local_1e8;
          pCVar32 = local_160;
        }
        pvVar56 = pvVar56 + 1;
      } while (pvVar56 < (vector<CInstrumentArticulation,std::allocator<CInstrumentArticulation>> *)
                         ((lVar42 - lVar65 >> 4) * -0x3333333333333333));
      piVar30 = (int *)local_188._0_8_;
    }
    piVar61 = *(int **)(pCVar32 + 0x48);
    local_c8 = (undefined1  [8])0xffffffffffffffff;
    sVar34 = local_188._8_8_ - (long)piVar30;
    piVar62 = (int *)((long)sVar34 >> 3);
    uVar52 = (long)piVar61 - (long)piVar62;
    pCVar32 = local_160;
    if (piVar61 < piVar62 || uVar52 == 0) {
      if (piVar61 < piVar62) {
        piVar30 = piVar30 + (long)piVar61 * 2;
        goto LAB_100111b27;
      }
    }
    else if ((ulong)((long)local_178 - local_188._8_8_ >> 3) < uVar52) {
      if ((ulong)piVar61 >> 0x3d != 0) {
                    /* WARNING: Subroutine does not return */
        std::__vector_base_common<true>::__throw_length_error();
      }
      piVar68 = (int *)((long)local_178 - (long)piVar30 >> 2);
      if (piVar68 < piVar61) {
        piVar68 = piVar61;
      }
      if (0xffffffffffffffe < (ulong)((long)local_178 - (long)piVar30 >> 3)) {
        piVar68 = (int *)0x1fffffffffffffff;
      }
      if (piVar68 == (int *)0x0) {
        pvVar37 = (void *)0x0;
      }
      else {
        local_158 = piVar61;
        if ((int *)0x1fffffffffffffff < piVar68) {
          __throw_length_error((char *)pvVar56);
                    /* WARNING: Does not return */
          pcVar15 = (code *)invalidInstructionException();
          (*pcVar15)();
        }
        pvVar37 = operator_new((long)piVar68 * 8);
        piVar61 = local_158;
      }
      pCVar32 = local_160;
      puVar58 = (undefined8 *)((long)pvVar37 + (long)piVar62 * 8);
      uVar52 = uVar52 * 8 - 8;
      if (uVar52 < 0x18) {
LAB_100111834:
        auVar49 = (undefined1  [8])0xffffffffffffffff;
        for (; *puVar58 = auVar49, (undefined8 *)((long)pvVar37 + (long)piVar61 * 8 + -8) != puVar58
            ; puVar58 = puVar58 + 1) {
          auVar49 = local_c8;
        }
      }
      else {
        uVar52 = uVar52 >> 3;
        if ((puVar58 < local_c8 + 1) &&
           (local_c8 < (undefined1 *)((long)pvVar37 + (uVar52 + (long)piVar62) * 8 + 8)))
        goto LAB_100111834;
        uVar52 = uVar52 + 1;
        uVar50 = uVar52 & 0xfffffffffffffffc;
        uVar66 = (uVar50 - 4 >> 2) + 1;
        if (uVar50 - 4 == 0) {
          lVar42 = 0;
        }
        else {
          uVar47 = (uVar66 & 0xfffffffffffffffe) - 2;
          uVar44 = (uVar47 >> 1) + 1;
          uVar57 = (ulong)((uint)uVar44 & 3);
          if (uVar47 < 6) {
            lVar42 = 0;
          }
          else {
            lVar39 = -(uVar44 & 0xfffffffffffffffc);
            lVar65 = 0;
            do {
              puVar29 = (undefined4 *)((long)pvVar37 + lVar65 * 8 + (long)piVar62 * 8 + 0x10);
              *puVar29 = 0xffffffff;
              puVar29[1] = 0xffffffff;
              puVar29[2] = 0xffffffff;
              puVar29[3] = 0xffffffff;
              puVar29 = (undefined4 *)((long)pvVar37 + lVar65 * 8 + (long)piVar62 * 8);
              *puVar29 = 0xffffffff;
              puVar29[1] = 0xffffffff;
              puVar29[2] = 0xffffffff;
              puVar29[3] = 0xffffffff;
              puVar29 = (undefined4 *)((long)pvVar37 + lVar65 * 8 + (long)piVar62 * 8 + 0x20);
              *puVar29 = 0xffffffff;
              puVar29[1] = 0xffffffff;
              puVar29[2] = 0xffffffff;
              puVar29[3] = 0xffffffff;
              puVar29 = (undefined4 *)((long)pvVar37 + lVar65 * 8 + (long)piVar62 * 8 + 0x30);
              *puVar29 = 0xffffffff;
              puVar29[1] = 0xffffffff;
              puVar29[2] = 0xffffffff;
              puVar29[3] = 0xffffffff;
              puVar29 = (undefined4 *)((long)pvVar37 + lVar65 * 8 + (long)piVar62 * 8 + 0x40);
              *puVar29 = 0xffffffff;
              puVar29[1] = 0xffffffff;
              puVar29[2] = 0xffffffff;
              puVar29[3] = 0xffffffff;
              puVar29 = (undefined4 *)((long)pvVar37 + lVar65 * 8 + (long)piVar62 * 8 + 0x50);
              *puVar29 = 0xffffffff;
              puVar29[1] = 0xffffffff;
              puVar29[2] = 0xffffffff;
              puVar29[3] = 0xffffffff;
              puVar29 = (undefined4 *)((long)pvVar37 + lVar65 * 8 + (long)piVar62 * 8 + 0x60);
              *puVar29 = 0xffffffff;
              puVar29[1] = 0xffffffff;
              puVar29[2] = 0xffffffff;
              puVar29[3] = 0xffffffff;
              puVar29 = (undefined4 *)((long)pvVar37 + lVar65 * 8 + (long)piVar62 * 8 + 0x70);
              *puVar29 = 0xffffffff;
              puVar29[1] = 0xffffffff;
              puVar29[2] = 0xffffffff;
              puVar29[3] = 0xffffffff;
              puVar29 = (undefined4 *)((long)pvVar37 + lVar65 * 8 + (long)piVar62 * 8 + 0x80);
              *puVar29 = 0xffffffff;
              puVar29[1] = 0xffffffff;
              puVar29[2] = 0xffffffff;
              puVar29[3] = 0xffffffff;
              puVar29 = (undefined4 *)((long)pvVar37 + lVar65 * 8 + (long)piVar62 * 8 + 0x90);
              *puVar29 = 0xffffffff;
              puVar29[1] = 0xffffffff;
              puVar29[2] = 0xffffffff;
              puVar29[3] = 0xffffffff;
              puVar29 = (undefined4 *)((long)pvVar37 + lVar65 * 8 + (long)piVar62 * 8 + 0xa0);
              *puVar29 = 0xffffffff;
              puVar29[1] = 0xffffffff;
              puVar29[2] = 0xffffffff;
              puVar29[3] = 0xffffffff;
              puVar29 = (undefined4 *)((long)pvVar37 + lVar65 * 8 + (long)piVar62 * 8 + 0xb0);
              *puVar29 = 0xffffffff;
              puVar29[1] = 0xffffffff;
              puVar29[2] = 0xffffffff;
              puVar29[3] = 0xffffffff;
              puVar29 = (undefined4 *)((long)pvVar37 + lVar65 * 8 + (long)piVar62 * 8 + 0xc0);
              *puVar29 = 0xffffffff;
              puVar29[1] = 0xffffffff;
              puVar29[2] = 0xffffffff;
              puVar29[3] = 0xffffffff;
              puVar29 = (undefined4 *)((long)pvVar37 + lVar65 * 8 + (long)piVar62 * 8 + 0xd0);
              *puVar29 = 0xffffffff;
              puVar29[1] = 0xffffffff;
              puVar29[2] = 0xffffffff;
              puVar29[3] = 0xffffffff;
              lVar42 = lVar65 + 0x20;
              puVar29 = (undefined4 *)((long)pvVar37 + lVar65 * 8 + (long)piVar62 * 8 + 0xf0);
              *puVar29 = 0xffffffff;
              puVar29[1] = 0xffffffff;
              puVar29[2] = 0xffffffff;
              puVar29[3] = 0xffffffff;
              puVar29 = (undefined4 *)((long)pvVar37 + lVar65 * 8 + (long)piVar62 * 8 + 0xe0);
              *puVar29 = 0xffffffff;
              puVar29[1] = 0xffffffff;
              puVar29[2] = 0xffffffff;
              puVar29[3] = 0xffffffff;
              lVar39 = lVar39 + 4;
              lVar65 = lVar42;
            } while (lVar39 != 0);
          }
          local_158 = piVar30;
          if (uVar57 != 0) {
            lVar65 = -uVar57;
            do {
              uVar44 = lVar42 * 8 | 0x20;
              puVar4 = puVar58 + lVar42 + 2;
              *(undefined4 *)puVar4 = 0xffffffff;
              *(undefined4 *)((long)puVar4 + 4) = 0xffffffff;
              *(undefined4 *)(puVar4 + 1) = 0xffffffff;
              *(undefined4 *)((long)puVar4 + 0xc) = 0xffffffff;
              puVar4 = puVar58 + lVar42;
              *(undefined4 *)puVar4 = 0xffffffff;
              *(undefined4 *)((long)puVar4 + 4) = 0xffffffff;
              *(undefined4 *)(puVar4 + 1) = 0xffffffff;
              *(undefined4 *)((long)puVar4 + 0xc) = 0xffffffff;
              lVar42 = lVar42 + 8;
              puVar29 = (undefined4 *)((long)puVar58 + uVar44 + 0x10);
              *puVar29 = 0xffffffff;
              puVar29[1] = 0xffffffff;
              puVar29[2] = 0xffffffff;
              puVar29[3] = 0xffffffff;
              puVar29 = (undefined4 *)((long)puVar58 + uVar44);
              *puVar29 = 0xffffffff;
              puVar29[1] = 0xffffffff;
              puVar29[2] = 0xffffffff;
              puVar29[3] = 0xffffffff;
              lVar65 = lVar65 + 1;
            } while (lVar65 != 0);
          }
        }
        if ((uVar66 & 1) != 0) {
          puVar4 = puVar58 + lVar42 + 2;
          *(undefined4 *)puVar4 = 0xffffffff;
          *(undefined4 *)((long)puVar4 + 4) = 0xffffffff;
          *(undefined4 *)(puVar4 + 1) = 0xffffffff;
          *(undefined4 *)((long)puVar4 + 0xc) = 0xffffffff;
          puVar4 = puVar58 + lVar42;
          *(undefined4 *)puVar4 = 0xffffffff;
          *(undefined4 *)((long)puVar4 + 4) = 0xffffffff;
          *(undefined4 *)(puVar4 + 1) = 0xffffffff;
          *(undefined4 *)((long)puVar4 + 0xc) = 0xffffffff;
        }
        if (uVar52 != uVar50) {
          puVar58 = puVar58 + uVar50;
          goto LAB_100111834;
        }
      }
      pvVar41 = (void *)((long)pvVar37 + (long)piVar68 * 8);
      if (0 < (long)sVar34) {
        _memcpy(pvVar37,piVar30,sVar34);
      }
      local_188._8_8_ = (void *)((long)pvVar37 + (long)piVar61 * 8);
      local_188._0_8_ = pvVar37;
      local_178 = pvVar41;
      if (piVar30 != (int *)0x0) {
        operator_delete(piVar30);
      }
    }
    else {
      piVar30 = (int *)local_188._8_8_;
      if (uVar52 != 0) {
        piVar30 = (int *)(local_188._8_8_ + uVar52 * 2 * 4);
        uVar52 = uVar52 * 8 - 8;
        piVar61 = (int *)local_188._8_8_;
        if (0x17 < uVar52) {
          uVar52 = (uVar52 >> 3) + 1;
          if ((local_c8 + 1 <= (ulong)local_188._8_8_) ||
             ((int *)(local_188._8_8_ + uVar52 * 2 * 4) <= local_c8)) {
            uVar50 = uVar52 & 0xfffffffffffffffc;
            uVar66 = (uVar50 - 4 >> 2) + 1;
            if (uVar50 - 4 == 0) {
              lVar42 = 0;
            }
            else {
              uVar44 = (uVar66 & 0xfffffffffffffffe) - 2;
              uVar47 = (uVar44 >> 1) + 1;
              uVar57 = (ulong)((uint)uVar47 & 3);
              if (uVar44 < 6) {
                lVar42 = 0;
              }
              else {
                lVar39 = -(uVar47 & 0xfffffffffffffffc);
                lVar65 = 0;
                do {
                  piVar61 = (int *)(local_188._8_8_ + (lVar65 * 2 + 4) * 4);
                  *piVar61 = -1;
                  piVar61[1] = -1;
                  piVar61[2] = -1;
                  piVar61[3] = -1;
                  piVar61 = (int *)(local_188._8_8_ + lVar65 * 2 * 4);
                  *piVar61 = -1;
                  piVar61[1] = -1;
                  piVar61[2] = -1;
                  piVar61[3] = -1;
                  piVar61 = (int *)(local_188._8_8_ + (lVar65 * 2 + 8) * 4);
                  *piVar61 = -1;
                  piVar61[1] = -1;
                  piVar61[2] = -1;
                  piVar61[3] = -1;
                  piVar61 = (int *)(local_188._8_8_ + (lVar65 * 2 + 0xc) * 4);
                  *piVar61 = -1;
                  piVar61[1] = -1;
                  piVar61[2] = -1;
                  piVar61[3] = -1;
                  piVar61 = (int *)(local_188._8_8_ + (lVar65 * 2 + 0x10) * 4);
                  *piVar61 = -1;
                  piVar61[1] = -1;
                  piVar61[2] = -1;
                  piVar61[3] = -1;
                  piVar61 = (int *)(local_188._8_8_ + (lVar65 * 2 + 0x14) * 4);
                  *piVar61 = -1;
                  piVar61[1] = -1;
                  piVar61[2] = -1;
                  piVar61[3] = -1;
                  piVar61 = (int *)(local_188._8_8_ + (lVar65 * 2 + 0x18) * 4);
                  *piVar61 = -1;
                  piVar61[1] = -1;
                  piVar61[2] = -1;
                  piVar61[3] = -1;
                  piVar61 = (int *)(local_188._8_8_ + (lVar65 * 2 + 0x1c) * 4);
                  *piVar61 = -1;
                  piVar61[1] = -1;
                  piVar61[2] = -1;
                  piVar61[3] = -1;
                  piVar61 = (int *)(local_188._8_8_ + (lVar65 * 2 + 0x20) * 4);
                  *piVar61 = -1;
                  piVar61[1] = -1;
                  piVar61[2] = -1;
                  piVar61[3] = -1;
                  piVar61 = (int *)(local_188._8_8_ + (lVar65 * 2 + 0x24) * 4);
                  *piVar61 = -1;
                  piVar61[1] = -1;
                  piVar61[2] = -1;
                  piVar61[3] = -1;
                  piVar61 = (int *)(local_188._8_8_ + (lVar65 * 2 + 0x28) * 4);
                  *piVar61 = -1;
                  piVar61[1] = -1;
                  piVar61[2] = -1;
                  piVar61[3] = -1;
                  piVar61 = (int *)(local_188._8_8_ + (lVar65 * 2 + 0x2c) * 4);
                  *piVar61 = -1;
                  piVar61[1] = -1;
                  piVar61[2] = -1;
                  piVar61[3] = -1;
                  piVar61 = (int *)(local_188._8_8_ + (lVar65 * 2 + 0x30) * 4);
                  *piVar61 = -1;
                  piVar61[1] = -1;
                  piVar61[2] = -1;
                  piVar61[3] = -1;
                  piVar61 = (int *)(local_188._8_8_ + (lVar65 * 2 + 0x34) * 4);
                  *piVar61 = -1;
                  piVar61[1] = -1;
                  piVar61[2] = -1;
                  piVar61[3] = -1;
                  lVar42 = lVar65 + 0x20;
                  piVar61 = (int *)(local_188._8_8_ + (lVar65 * 2 + 0x3c) * 4);
                  *piVar61 = -1;
                  piVar61[1] = -1;
                  piVar61[2] = -1;
                  piVar61[3] = -1;
                  piVar61 = (int *)(local_188._8_8_ + (lVar65 * 2 + 0x38) * 4);
                  *piVar61 = -1;
                  piVar61[1] = -1;
                  piVar61[2] = -1;
                  piVar61[3] = -1;
                  lVar39 = lVar39 + 4;
                  lVar65 = lVar42;
                } while (lVar39 != 0);
              }
              if (uVar57 != 0) {
                lVar65 = -uVar57;
                do {
                  uVar44 = lVar42 * 8 | 0x20;
                  piVar61 = (int *)(local_188._8_8_ + (lVar42 * 2 + 4) * 4);
                  *piVar61 = -1;
                  piVar61[1] = -1;
                  piVar61[2] = -1;
                  piVar61[3] = -1;
                  piVar61 = (int *)(local_188._8_8_ + lVar42 * 2 * 4);
                  *piVar61 = -1;
                  piVar61[1] = -1;
                  piVar61[2] = -1;
                  piVar61[3] = -1;
                  lVar42 = lVar42 + 8;
                  puVar29 = (undefined4 *)(local_188._8_8_ + uVar44 + 0x10);
                  *puVar29 = 0xffffffff;
                  puVar29[1] = 0xffffffff;
                  puVar29[2] = 0xffffffff;
                  puVar29[3] = 0xffffffff;
                  puVar29 = (undefined4 *)(local_188._8_8_ + uVar44);
                  *puVar29 = 0xffffffff;
                  puVar29[1] = 0xffffffff;
                  puVar29[2] = 0xffffffff;
                  puVar29[3] = 0xffffffff;
                  lVar65 = lVar65 + 1;
                } while (lVar65 != 0);
              }
            }
            if ((uVar66 & 1) != 0) {
              piVar61 = (int *)(local_188._8_8_ + (lVar42 * 2 + 4) * 4);
              *piVar61 = -1;
              piVar61[1] = -1;
              piVar61[2] = -1;
              piVar61[3] = -1;
              piVar61 = (int *)(local_188._8_8_ + lVar42 * 2 * 4);
              *piVar61 = -1;
              piVar61[1] = -1;
              piVar61[2] = -1;
              piVar61[3] = -1;
            }
            if (uVar52 == uVar50) goto LAB_100111b27;
            piVar61 = (int *)(local_188._8_8_ + uVar50 * 2 * 4);
          }
        }
        do {
          piVar62 = piVar61 + 2;
          piVar61[0] = -1;
          piVar61[1] = -1;
          piVar61 = piVar62;
        } while (piVar30 != piVar62);
      }
LAB_100111b27:
      local_188._8_8_ = piVar30;
    }
    if (local_200 != (int *)local_1f8) {
      lVar42 = 0;
      piVar30 = local_200;
      do {
        *(long *)(local_188._0_8_ + *(long *)(piVar30 + 8) * 8) = lVar42;
        piVar61 = *(int **)(piVar30 + 2);
        if (*(int **)(piVar30 + 2) == (int *)0x0) {
          piVar62 = *(int **)(piVar30 + 4);
          if (*(int **)piVar62 != piVar30) {
            do {
              piVar30 = *(int **)(piVar30 + 4);
              piVar62 = *(int **)(piVar30 + 4);
            } while (*(int **)piVar62 != piVar30);
          }
        }
        else {
          do {
            piVar62 = piVar61;
            piVar61 = *(int **)piVar62;
          } while (*(int **)piVar62 != (int *)0x0);
        }
        lVar42 = lVar42 + 1;
        piVar30 = piVar62;
      } while (piVar62 != (int *)local_1f8);
    }
    pCVar32[0x58] = (CInstrumentSerializer)0x1;
    sVar34 = _strlen((char *)local_198);
    if (0xffffffffffffffef < sVar34) {
                    /* WARNING: Subroutine does not return */
      std::__basic_string_common<true>::__throw_length_error();
    }
    if (sVar34 < 0x17) {
      local_c8[0] = (String)((char)sVar34 * '\x02');
      puVar54 = local_c8 + 1;
      if (sVar34 != 0) goto LAB_100111c1d;
    }
    else {
      uVar52 = sVar34 + 0x10 & 0xfffffffffffffff0;
      puVar54 = operator_new(uVar52);
      local_b8 = SUB85(puVar54,0);
      uStack_b3 = (undefined3)((ulong)puVar54 >> 0x28);
      local_c8 = (undefined1  [8])(uVar52 | 1);
      acStack_c0 = SUB85(sVar34,0);
      acStack_bb = SUB83(sVar34 >> 0x28,0);
LAB_100111c1d:
      _memcpy(puVar54,local_198,sVar34);
    }
    puVar54[sVar34] = 0;
    if (((ulong)local_c8 & 1) == 0) {
      if (1 < (byte)local_c8[0]) {
        pcVar59 = local_c8 + 1;
LAB_100111c64:
        pFVar40 = _fopen(pcVar59,"wb+");
        *(FILE **)pCVar32 = pFVar40;
        if (((ulong)local_c8 & 1) == 0) {
          if (pFVar40 != (FILE *)0x0) {
LAB_100111ca3:
            local_9b = SUB1615((undefined1  [16])0x0,0);
            local_ab = (undefined1  [16])0x0;
            uStack_8c = 0;
            local_c8[0] = (String)s_TRIGGER_COMPRESSED_INSTRUMENT_1003b836d[0];
            local_c8[1] = s_TRIGGER_COMPRESSED_INSTRUMENT_1003b836d[1];
            local_c8[2] = s_TRIGGER_COMPRESSED_INSTRUMENT_1003b836d[2];
            local_c8[3] = s_TRIGGER_COMPRESSED_INSTRUMENT_1003b836d[3];
            local_c8[4] = s_TRIGGER_COMPRESSED_INSTRUMENT_1003b836d[4];
            local_c8[5] = s_TRIGGER_COMPRESSED_INSTRUMENT_1003b836d[5];
            local_c8[6] = s_TRIGGER_COMPRESSED_INSTRUMENT_1003b836d[6];
            local_c8[7] = s_TRIGGER_COMPRESSED_INSTRUMENT_1003b836d[7];
            acStack_c0[0] = s_TRIGGER_COMPRESSED_INSTRUMENT_1003b836d[8];
            acStack_c0[1] = s_TRIGGER_COMPRESSED_INSTRUMENT_1003b836d[9];
            acStack_c0[2] = s_TRIGGER_COMPRESSED_INSTRUMENT_1003b836d[10];
            acStack_c0[3] = s_TRIGGER_COMPRESSED_INSTRUMENT_1003b836d[0xb];
            acStack_c0[4] = s_TRIGGER_COMPRESSED_INSTRUMENT_1003b836d[0xc];
            acStack_bb[0] = s_TRIGGER_COMPRESSED_INSTRUMENT_1003b836d[0xd];
            acStack_bb[1] = s_TRIGGER_COMPRESSED_INSTRUMENT_1003b836d[0xe];
            acStack_bb[2] = s_TRIGGER_COMPRESSED_INSTRUMENT_1003b836d[0xf];
            local_b8[0] = s_TRIGGER_COMPRESSED_INSTRUMENT_1003b836d[0x10];
            local_b8[1] = s_TRIGGER_COMPRESSED_INSTRUMENT_1003b836d[0x11];
            local_b8[2] = s_TRIGGER_COMPRESSED_INSTRUMENT_1003b836d[0x12];
            local_b8[3] = s_TRIGGER_COMPRESSED_INSTRUMENT_1003b836d[0x13];
            local_b8[4] = s_TRIGGER_COMPRESSED_INSTRUMENT_1003b836d[0x14];
            uStack_b3 = (undefined3)s_TRIGGER_COMPRESSED_INSTRUMENT_1003b836d._21_8_;
            uStack_b0 = SUB85(s_TRIGGER_COMPRESSED_INSTRUMENT_1003b836d._21_8_,3);
            if (pFVar40 != (FILE *)0x0) {
              local_1c0 = (string)0x54;
              lVar42 = 1;
              while( true ) {
                if (pFVar40 != (FILE *)0x0) {
                  _fwrite(&local_1c0,1,1,pFVar40);
                }
                if (lVar42 == 0x40) break;
                pFVar40 = *(FILE **)pCVar32;
                local_1c0 = *(string *)(local_c8 + lVar42);
                lVar42 = lVar42 + 1;
              }
            }
            CInstrumentSerializer::putLong(pCVar32,1);
            CInstrumentSerializer::putLong(pCVar32,8);
            CInstrumentSerializer::putLong(pCVar32,4);
            CInstrumentSerializer::putLong(pCVar32,0x15);
            CInstrumentSerializer::putLong(pCVar32,8);
            CInstrumentSerializer::putLong(pCVar32,0);
            CInstrumentSerializer::putLong(pCVar32,2);
            CInstrumentSerializer::putLong(pCVar32,0);
            if (*(long *)(pCVar32 + 0x48) == 0) {
              puVar54 = &CWaveDataPool::ReplyWaveData(unsigned_long)::waveDataDummy;
              if ((CWaveDataPool::ReplyWaveData(unsigned_long)::waveDataDummy == '\0') &&
                 (iVar27 = ___cxa_guard_acquire
                                     (&CWaveDataPool::ReplyWaveData(unsigned_long)::waveDataDummy),
                 iVar27 != 0)) {
                Ram000000010040ff68 = SUB169((undefined1  [16])0x0,7);
                _waveDataDummy = SUB169((undefined1  [16])0x0,0);
                DAT_10040ff60._1_7_ = 0;
                puVar54 = &CWaveDataPool::ReplyWaveData(unsigned_long)::waveDataDummy;
                _DAT_10040ff74 = (undefined1  [16])0x0;
                _DAT_10040ff84 = SUB1613((undefined1  [16])0x0,0);
                DAT_10040ff90._1_3_ = 0;
                ram0x00010040ff94 = 0;
                DAT_10040ff99 = 0xc9;
                _DAT_10040ffa8 = (undefined1  [16])0x0;
                _DAT_10040ffb8 = (undefined1  [16])0x0;
                _DAT_10040ffc8 = (undefined1  [16])0x0;
                ___cxa_atexit(CWaveData::~CWaveData,
                              &CWaveDataPool::ReplyWaveData(unsigned_long)::waveDataDummy,
                              0x100000000);
                ___cxa_guard_release(&CWaveDataPool::ReplyWaveData(unsigned_long)::waveDataDummy);
              }
            }
            else {
              puVar54 = (undefined1 *)**(undefined8 **)this_00;
            }
            uVar52 = *(ulong *)(puVar54 + 0x20);
            CInstrumentSerializer::putLong(pCVar32,0x14);
            CInstrumentSerializer::putLong(pCVar32,8);
            CInstrumentSerializer::putLong(pCVar32,uVar52);
            uVar23 = local_1f8._8_8_;
            CInstrumentSerializer::putLong(pCVar32,4);
            CInstrumentSerializer::putLong(pCVar32,8);
            CInstrumentSerializer::putLong(pCVar32,uVar23);
            pvVar56 = *(vector<CInstrumentArticulation,std::allocator<CInstrumentArticulation>> **)
                       (pCVar32 + 0x48);
            if (pvVar56 !=
                (vector<CInstrumentArticulation,std::allocator<CInstrumentArticulation>> *)0x0) {
              pvVar33 = (vector<CInstrumentArticulation,std::allocator<CInstrumentArticulation>> *)
                        0x0;
              do {
                if (*(long *)(local_188._0_8_ + (long)pvVar33 * 8) != -1) {
                  local_198 = pvVar33;
                  if (pvVar33 < *(vector<CInstrumentArticulation,std::allocator<CInstrumentArticulation>>
                                  **)(pCVar32 + 0x48)) {
                    puVar54 = *(undefined1 **)(*(long *)this_00 + (long)pvVar33 * 8);
                  }
                  else {
                    puVar54 = &CWaveDataPool::ReplyWaveData(unsigned_long)::waveDataDummy;
                    if (CWaveDataPool::ReplyWaveData(unsigned_long)::waveDataDummy == '\0') {
                      iVar27 = ___cxa_guard_acquire
                                         (&CWaveDataPool::ReplyWaveData(unsigned_long)::
                                           waveDataDummy);
                      puVar54 = &CWaveDataPool::ReplyWaveData(unsigned_long)::waveDataDummy;
                      if (iVar27 != 0) {
                        Ram000000010040ff68 = SUB169((undefined1  [16])0x0,7);
                        _waveDataDummy = SUB169((undefined1  [16])0x0,0);
                        DAT_10040ff60._1_7_ = 0;
                        _DAT_10040ff74 = (undefined1  [16])0x0;
                        _DAT_10040ff84 = SUB1613((undefined1  [16])0x0,0);
                        DAT_10040ff90._1_3_ = 0;
                        ram0x00010040ff94 = 0;
                        DAT_10040ff99 = 0xc9;
                        _DAT_10040ffa8 = (undefined1  [16])0x0;
                        _DAT_10040ffb8 = (undefined1  [16])0x0;
                        _DAT_10040ffc8 = (undefined1  [16])0x0;
                        ___cxa_atexit(CWaveData::~CWaveData,
                                      &CWaveDataPool::ReplyWaveData(unsigned_long)::waveDataDummy,
                                      0x100000000);
                        ___cxa_guard_release
                                  (&CWaveDataPool::ReplyWaveData(unsigned_long)::waveDataDummy);
                        puVar54 = &CWaveDataPool::ReplyWaveData(unsigned_long)::waveDataDummy;
                      }
                    }
                  }
                  local_158 = *(int **)(puVar54 + 0x38);
                  lVar42 = *(long *)(puVar54 + 0x30);
                  cVar26 = '\x02' - (puVar54[0x18] == '\0');
                  local_190 = *(ulong *)(puVar54 + 8);
                  std::string::string(&local_1c0,(string *)(puVar54 + 0x68));
                  CInstrumentSerializer::putLong(pCVar32,5);
                  pCVar32 = local_160;
                  uVar52 = (ulong)local_158 >> 3;
                  local_1e8 = (vector<CInstrumentArticulation,std::allocator<CInstrumentArticulation>>
                               *)local_1b8;
                  if (((byte)local_1c0 & 1) == 0) {
                    local_1e8 = (vector<CInstrumentArticulation,std::allocator<CInstrumentArticulation>>
                                 *)(ulong)((byte)local_1c0 >> 1);
                  }
                  lVar65 = (long)(int)local_1e8;
                  CInstrumentSerializer::putLong(local_160,lVar65 + uVar52 + 10);
                  local_149 = cVar26;
                  if (*(FILE **)pCVar32 != (FILE *)0x0) {
                    _fwrite(&local_149,1,1,*(FILE **)pCVar32);
                  }
                  CInstrumentSerializer::putLong(pCVar32,(ulong)local_158);
                  CInstrumentSerializer::putLong(pCVar32,local_190);
                  pFVar40 = *(FILE **)pCVar32;
                  if (pFVar40 != (FILE *)0x0) {
                    uVar50 = 0;
                    while( true ) {
                      local_149 = *(char *)(lVar42 + uVar50);
                      if (pFVar40 != (FILE *)0x0) {
                        _fwrite(&local_149,1,1,pFVar40);
                      }
                      if (uVar52 == uVar50) break;
                      uVar50 = uVar50 + 1;
                      pFVar40 = *(FILE **)local_160;
                    }
                  }
                  pCVar32 = local_160;
                  local_1e8 = (vector<CInstrumentArticulation,std::allocator<CInstrumentArticulation>>
                               *)((long)local_1e8 << 0x20);
                  if (local_1e8 !=
                      (vector<CInstrumentArticulation,std::allocator<CInstrumentArticulation>> *)0x0
                     ) {
                    pFVar40 = *(FILE **)local_160;
                    if (lVar65 == 0) {
                      lVar65 = 1;
                    }
                    if (pFVar40 != (FILE *)0x0) {
                      lVar42 = 0;
                      while( true ) {
                        puVar54 = local_1bf;
                        if (((byte)local_1c0 & 1) != 0) {
                          puVar54 = local_1b0;
                        }
                        local_149 = puVar54[lVar42];
                        if (pFVar40 != (FILE *)0x0) {
                          _fwrite(&local_149,1,1,pFVar40);
                        }
                        if (lVar65 + -1 == lVar42) break;
                        lVar42 = lVar42 + 1;
                        pFVar40 = *(FILE **)pCVar32;
                      }
                    }
                  }
                  pvVar33 = local_198;
                  if (((byte)local_1c0 & 1) != 0) {
                    operator_delete(local_1b0);
                    pvVar33 = local_198;
                  }
                }
                pvVar33 = pvVar33 + 1;
              } while (pvVar33 != pvVar56);
            }
            CInstrumentSerializer::putLong(pCVar32,6);
            CInstrumentSerializer::putLong(pCVar32,0);
            if (*(long *)(pCVar32 + 0x20) != *(long *)(pCVar32 + 0x18)) {
              local_190 = 0;
              do {
                CInstrumentSerializer::putLong(pCVar32,7);
                CInstrumentSerializer::putLong(pCVar32,0);
                piVar30 = (int *)(local_190 * 0x50);
                std::string::string(&local_1c0,(string *)((long)piVar30 + *(long *)local_1a0 + 0x38)
                                   );
                CInstrumentSerializer::putLong(pCVar32,8);
                uVar52 = local_1b8;
                if (((byte)local_1c0 & 1) == 0) {
                  uVar52 = (ulong)((byte)local_1c0 >> 1);
                }
                CInstrumentSerializer::putLong(pCVar32,uVar52);
                if (uVar52 != 0) {
                  uVar50 = 0;
                  uVar66 = 1;
                  do {
                    puVar54 = local_1bf;
                    if (((byte)local_1c0 & 1) != 0) {
                      puVar54 = local_1b0;
                    }
                    local_149 = puVar54[uVar50];
                    if (*(FILE **)pCVar32 != (FILE *)0x0) {
                      _fwrite(&local_149,1,1,*(FILE **)pCVar32);
                    }
                    bVar63 = uVar66 < uVar52;
                    uVar50 = uVar66;
                    uVar66 = (ulong)((int)uVar66 + 1);
                  } while (bVar63);
                }
                if (((byte)local_1c0 & 1) != 0) {
                  operator_delete(local_1b0);
                }
                    /* WARNING: Load size is inaccurate */
                CInstrumentSerializer::putFloatRecord
                          (*(CInstrumentSerializer **)
                            (*(long *)(pCVar32 + 0x18) + 0x30 + (long)piVar30),pCVar32,9);
                    /* WARNING: Load size is inaccurate */
                CInstrumentSerializer::putFloatRecord
                          (*(CInstrumentSerializer **)
                            (*(long *)(pCVar32 + 0x18) + 0x34 + (long)piVar30),pCVar32,10);
                if ((int)((ulong)(*(long *)(*(long *)local_1a0 + 8 + (long)piVar30) -
                                 *(long *)(*(long *)local_1a0 + (long)piVar30)) >> 4) * -0x49249249
                    != 0) {
                  uVar52 = 0;
                  local_158 = piVar30;
                  do {
                    piVar30 = local_158;
                    CInstrumentSerializer::putLong(pCVar32,0xb);
                    CInstrumentSerializer::putLong(pCVar32,0);
                    lVar42 = *(long *)(*(long *)(pCVar32 + 0x18) + (long)piVar30);
                    lVar65 = uVar52 * 0x70;
                    iVar27 = *(int *)(lVar42 + 0x58 + lVar65);
                    CInstrumentSerializer::putLong(pCVar32,0xc);
                    CInstrumentSerializer::putLong(pCVar32,8);
                    CInstrumentSerializer::putLong(pCVar32,(long)iVar27);
                    /* WARNING: Load size is inaccurate */
                    CInstrumentSerializer::putFloatRecord
                              (*(CInstrumentSerializer **)(lVar42 + 0x5c + lVar65),pCVar32,0xd);
                    /* WARNING: Load size is inaccurate */
                    CInstrumentSerializer::putFloatRecord
                              (*(CInstrumentSerializer **)(lVar42 + 0x60 + lVar65),pCVar32,0xe);
                    /* WARNING: Load size is inaccurate */
                    CInstrumentSerializer::putFloatRecord
                              (*(CInstrumentSerializer **)(lVar42 + 0x68 + lVar65),pCVar32,0x10);
                    /* WARNING: Load size is inaccurate */
                    CInstrumentSerializer::putFloatRecord
                              (*(CInstrumentSerializer **)(lVar42 + 100 + lVar65),pCVar32,0x11);
                    lVar42 = lVar42 + lVar65;
                    for (uVar50 = 0; pCVar32 = local_160,
                        uVar50 < (ulong)(*(long *)(lVar42 + 0x40) - *(long *)(lVar42 + 0x38) >> 2);
                        uVar50 = uVar50 + 1) {
                      *(ulong *)(lVar42 + 0x50) = uVar50;
                      uVar66 = *(ulong *)(local_188._0_8_ +
                                         (ulong)*(uint *)(*(long *)(lVar42 + 0x38) + uVar50 * 4) * 8
                                         );
                      CInstrumentSerializer::putLong(local_160,0xf);
                      CInstrumentSerializer::putLong(pCVar32,8);
                      CInstrumentSerializer::putLong(pCVar32,uVar66);
                    }
                    CInstrumentSerializer::putLong(local_160,0x12);
                    CInstrumentSerializer::putLong(pCVar32,0);
                    uVar52 = uVar52 + 1;
                  } while (uVar52 < (ulong)(long)((int)((ulong)(*(long *)(*(long *)local_1a0 + 8 +
                                                                         (long)local_158) -
                                                               *(long *)(*(long *)local_1a0 +
                                                                        (long)local_158)) >> 4) *
                                                 -0x49249249));
                }
                CInstrumentSerializer::putLong(pCVar32,0x13);
                CInstrumentSerializer::putLong(pCVar32,0);
                local_190 = local_190 + 1;
              } while (local_190 <
                       (ulong)((*(long *)(pCVar32 + 0x20) - *(long *)(pCVar32 + 0x18) >> 4) *
                              -0x3333333333333333));
            }
            CInstrumentSerializer::putLong(pCVar32,3);
            CInstrumentSerializer::putLong(pCVar32,0);
            if (*(FILE **)pCVar32 != (FILE *)0x0) {
              _fclose(*(FILE **)pCVar32);
            }
            if (*(FILE **)(pCVar32 + 8) != (FILE *)0x0) {
              _fclose(*(FILE **)(pCVar32 + 8));
            }
          }
        }
        else {
          operator_delete((void *)CONCAT35(uStack_b3,local_b8));
          if (pFVar40 != (FILE *)0x0) {
            pFVar40 = *(FILE **)pCVar32;
            goto LAB_100111ca3;
          }
        }
      }
    }
    else {
      pcVar59 = (char *)CONCAT35(uStack_b3,local_b8);
      if (CONCAT35(acStack_bb,acStack_c0) != 0) goto LAB_100111c64;
      operator_delete(pcVar59);
    }
    __tree<unsigned_long,std::less<unsigned_long>,std::allocator<unsigned_long>>::destroy
              ((__tree_node *)local_1f8._0_8_);
    if ((void *)local_188._0_8_ != (void *)0x0) {
      local_188._8_8_ = local_188._0_8_;
      operator_delete((void *)local_188._0_8_);
    }
    bVar63 = false;
  }
  else {
    vector<CInstrumentArticulation,std::allocator<CInstrumentArticulation>>::__append
              (pvVar33,local_1d8);
    pvVar56 = pvVar33;
    if ((int)local_1d8 < 1) goto LAB_100111454;
    uVar52 = local_1d8 & 0xffffffff;
    bVar63 = true;
    uVar50 = 0;
    do {
      if (uVar50 < 0x10) {
        lVar42 = *(long *)(*plVar31 + uVar50 * 8);
      }
      else {
        lVar42 = 0;
      }
      uVar10 = *(uint *)(lVar42 + 0x20600);
      if (0 < (int)uVar10) {
        *(undefined4 *)(lVar42 + 0x20200) = 0;
        *(undefined4 *)(lVar42 + 0x20400) = 0x3f800000;
        fVar8 = _UNK_10027f43c;
        fVar7 = _UNK_10027f438;
        fVar6 = _UNK_10027f434;
        fVar69 = _DAT_10027f430;
        auVar14 = _DAT_10027f420;
        if (uVar10 != 1) {
          iVar27 = *(int *)(lVar42 + 0x20000);
          uVar66 = (ulong)uVar10 - 1;
          uVar44 = 1;
          fVar9 = DAT_10027eb90;
          fVar70 = DAT_10027eb60;
          if (3 < uVar66) {
            uVar57 = uVar66 & 0xfffffffffffffffc;
            uVar44 = uVar57 + 1;
            uVar47 = 0;
            iVar28 = iVar27;
            do {
              piVar30 = (int *)(lVar42 + 0x20004 + uVar47 * 4);
              iVar27 = piVar30[3];
              auVar71._0_4_ = (float)*piVar30 - (float)iVar28;
              auVar71._4_4_ = (float)piVar30[1] - (float)*piVar30;
              auVar71._8_4_ = (float)piVar30[2] - (float)piVar30[1];
              auVar71._12_4_ = (float)iVar27 - (float)piVar30[2];
              auVar71 = divps(auVar71,auVar14);
              pfVar5 = (float *)(lVar42 + 0x20204 + uVar47 * 4);
              *pfVar5 = auVar71._0_4_ + fVar69;
              pfVar5[1] = auVar71._4_4_ + fVar6;
              pfVar5[2] = auVar71._8_4_ + fVar7;
              pfVar5[3] = auVar71._12_4_ + fVar8;
              pfVar5 = (float *)(lVar42 + 0x20404 + uVar47 * 4);
              *pfVar5 = fVar69;
              pfVar5[1] = fVar6;
              pfVar5[2] = fVar7;
              pfVar5[3] = fVar8;
              uVar47 = uVar47 + 4;
              iVar28 = iVar27;
            } while (uVar57 != uVar47);
            fVar9 = DAT_10027eb90;
            fVar70 = DAT_10027eb60;
            if (uVar66 == uVar57) goto LAB_100110b5e;
          }
          do {
            fVar69 = (float)iVar27;
            iVar27 = *(int *)(lVar42 + 0x20000 + uVar44 * 4);
            *(float *)(lVar42 + 0x20200 + uVar44 * 4) = ((float)iVar27 - fVar69) / fVar9 + fVar70;
            *(undefined4 *)(lVar42 + 0x20400 + uVar44 * 4) = 0x3f800000;
            uVar44 = uVar44 + 1;
          } while (uVar10 != uVar44);
        }
      }
LAB_100110b5e:
      local_1e0 = *(vector<CInstrumentArticulation,std::allocator<CInstrumentArticulation>> **)
                   local_1a0;
      pcVar59 = *(char **)(lVar42 + 0x20608);
      piVar30 = (int *)(pcVar59 + -0x10);
      if (piVar30 != &juce::emptyString) {
        LOCK();
        *piVar30 = *piVar30 + 1;
        UNLOCK();
      }
      local_161 = bVar63;
      sVar34 = _strlen(pcVar59);
      if (0xffffffffffffffef < sVar34) {
        local_158 = piVar30;
                    /* WARNING: Subroutine does not return */
        std::__basic_string_common<true>::__throw_length_error();
      }
      if (sVar34 < 0x17) {
        local_c8[0] = (String)((char)sVar34 * '\x02');
        puVar54 = local_c8 + 1;
        if (sVar34 != 0) goto LAB_100110c10;
      }
      else {
        uVar66 = sVar34 + 0x10 & 0xfffffffffffffff0;
        local_158 = piVar30;
        puVar54 = operator_new(uVar66);
        local_b8 = SUB85(puVar54,0);
        uStack_b3 = (undefined3)((ulong)puVar54 >> 0x28);
        local_c8 = (undefined1  [8])(uVar66 | 1);
        acStack_c0 = SUB85(sVar34,0);
        acStack_bb = SUB83(sVar34 >> 0x28,0);
        piVar30 = local_158;
LAB_100110c10:
        _memcpy(puVar54,pcVar59,sVar34);
      }
      lVar65 = uVar50 * 0x50;
      puVar54[sVar34] = 0;
      std::string::operator=((string *)(local_1e0 + lVar65 + 0x38),(string *)local_c8);
      pCVar32 = local_160;
      if (((ulong)local_c8 & 1) != 0) {
        operator_delete((void *)CONCAT35(uStack_b3,local_b8));
      }
      if (piVar30 != &juce::emptyString) {
        LOCK();
        iVar27 = *piVar30;
        *piVar30 = *piVar30 + -1;
        UNLOCK();
        if (iVar27 == 0) {
          operator_delete__(piVar30);
        }
      }
      lVar39 = *plVar31;
      lVar35 = (long)*(int *)(lVar42 + 0x20614) * 0x10;
      fVar69 = *(float *)(lVar39 + 0xfc + lVar35);
      *(float *)(lVar42 + 0x20618) = fVar69;
      fVar6 = *(float *)(lVar39 + 0xf8 + lVar35);
      *(float *)(lVar42 + 0x2061c) = fVar6;
      fVar7 = *(float *)(lVar39 + 0xf4 + lVar35);
      *(float *)(lVar42 + 0x20620) = fVar7;
      fVar8 = *(float *)(lVar39 + 0xf0 + lVar35);
      *(float *)(lVar42 + 0x20624) = fVar8;
      *(float *)(local_1e0 + lVar65 + 0x30) = fVar69;
      *(float *)(local_1e0 + lVar65 + 0x34) = fVar6;
      uVar10 = *(uint *)(lVar42 + 0x20600);
      iVar27 = uVar10 - 1;
      if ((int)uVar10 < 2) {
        iVar27 = 1;
      }
      if (0 < (int)uVar10) {
        local_1e0 = local_1e0 + lVar65;
        uVar66 = 0;
        do {
          pvVar56 = local_1e0;
          if (uVar66 == 0) {
            CInstrumentArticulation::SetLayerVelocity((CInstrumentArticulation *)local_1e0,0,0);
            CInstrumentArticulation::SetLayerMinVolume
                      ((CInstrumentArticulation *)pvVar56,0,*(float *)(lVar42 + 0x20200));
            CInstrumentArticulation::SetLayerMaxVolume
                      ((CInstrumentArticulation *)pvVar56,0,*(float *)(lVar42 + 0x20400));
          }
          else {
            CInstrumentArticulation::SetLayerVelocity
                      ((CInstrumentArticulation *)local_1e0,uVar66,
                       *(int *)(lVar42 + 0x1fffc + uVar66 * 4));
            CInstrumentArticulation::SetLayerMinVolume
                      ((CInstrumentArticulation *)pvVar56,uVar66,
                       *(float *)(lVar42 + 0x20200 + uVar66 * 4));
            CInstrumentArticulation::SetLayerMaxVolume
                      ((CInstrumentArticulation *)pvVar56,uVar66,
                       *(float *)(lVar42 + 0x20400 + uVar66 * 4));
          }
          fVar70 = (float)(int)uVar66;
          fVar9 = *(float *)(lVar42 + 0x20624);
          lVar65 = *(long *)pvVar56;
          *(float *)(lVar65 + 0x68 + uVar66 * 0x70) =
               fVar70 * ((fVar69 - fVar7) / (float)iVar27) + *(float *)(lVar42 + 0x20620);
          *(float *)(lVar65 + 100 + uVar66 * 0x70) =
               ((fVar6 - fVar8) / (float)iVar27) * fVar70 + fVar9;
          local_198 = (vector<CInstrumentArticulation,std::allocator<CInstrumentArticulation>> *)
                      (long)*(int *)(lVar42 + 0x20604);
          if (local_198 !=
              (vector<CInstrumentArticulation,std::allocator<CInstrumentArticulation>> *)0x0) {
            pvVar56 = (vector<CInstrumentArticulation,std::allocator<CInstrumentArticulation>> *)0x0
            ;
            local_190 = local_190 & 0xffffffff00000000;
            do {
              piVar30 = *(int **)((long)(int)uVar66 * 0x400 + lVar42 + (long)(int)pvVar56 * 8);
              if ((char)piVar30[0x13] != '\0') {
                pcVar59 = *(char **)piVar30;
                if (*pcVar59 == '\0') {
                  pcVar59 = *(char **)(piVar30 + 2);
                }
                fVar9 = (float)piVar30[0xc];
                sVar34 = _strlen(pcVar59);
                if (0xffffffffffffffef < sVar34) {
                    /* WARNING: Subroutine does not return */
                  std::__basic_string_common<true>::__throw_length_error();
                }
                local_1e8 = pvVar56;
                local_158 = piVar30;
                if (sVar34 < 0x17) {
                  local_c8[0] = (String)((char)sVar34 * '\x02');
                  puVar54 = local_c8 + 1;
                  if (sVar34 != 0) goto LAB_100110f6f;
                }
                else {
                  uVar44 = sVar34 + 0x10 & 0xfffffffffffffff0;
                  puVar54 = operator_new(uVar44);
                  local_b8 = SUB85(puVar54,0);
                  uStack_b3 = (undefined3)((ulong)puVar54 >> 0x28);
                  local_c8 = (undefined1  [8])(uVar44 | 1);
                  acStack_c0 = SUB85(sVar34,0);
                  acStack_bb = SUB83(sVar34 >> 0x28,0);
LAB_100110f6f:
                  _memcpy(puVar54,pcVar59,sVar34);
                }
                pCVar32 = local_160;
                puVar54[sVar34] = 0;
                lVar65 = *(long *)(local_160 + 0x30);
                lVar39 = *(long *)(local_160 + 0x38);
                if (lVar39 != lVar65) {
                  uVar44 = 0;
                  do {
                    lVar35 = *(long *)(lVar65 + uVar44 * 8);
                    if (lVar35 != 0) {
                      std::string::string((string *)local_188,(string *)(lVar35 + 0x50));
                      pvVar37 = local_178;
                      uVar47 = (ulong)((byte)local_188[0] >> 1);
                      if (((byte)local_188[0] & 1) != 0) {
                        uVar47 = local_188._8_8_;
                      }
                      if (((ulong)local_c8 & 1) == 0) {
                        if (uVar47 == ((ulong)local_c8 >> 1 & 0x7f)) goto LAB_10011103b;
LAB_1001110a0:
                        if (((byte)local_188[0] & 1) != 0) goto LAB_100110fb0;
                      }
                      else {
                        if (uVar47 != CONCAT35(acStack_bb,acStack_c0)) goto LAB_1001110a0;
LAB_10011103b:
                        puVar54 = local_c8 + 1;
                        if (((ulong)local_c8 & 1) != 0) {
                          puVar54 = (undefined1 *)CONCAT35(uStack_b3,local_b8);
                        }
                        if (((byte)local_188[0] & 1) == 0) {
                          if (uVar47 != 0) {
                            uVar47 = 0;
                            while (local_188[uVar47 + 1] == puVar54[uVar47]) {
                              uVar47 = uVar47 + 1;
                              if ((byte)local_188[0] >> 1 == uVar47) goto LAB_1001110d0;
                            }
                            goto LAB_1001110a0;
                          }
LAB_1001110d0:
                          bVar22 = true;
                          bVar63 = true;
                          goto joined_r0x0001001110da;
                        }
                        if ((uVar47 == 0) ||
                           (iVar28 = _memcmp(local_178,puVar54,uVar47), iVar28 == 0)) {
                          operator_delete(pvVar37);
                          goto LAB_1001110d0;
                        }
LAB_100110fb0:
                        operator_delete(pvVar37);
                      }
                      lVar65 = *(long *)(pCVar32 + 0x30);
                      lVar39 = *(long *)(pCVar32 + 0x38);
                    }
                    uVar44 = uVar44 + 1;
                  } while (uVar44 < (ulong)(lVar39 - lVar65 >> 3));
                }
                uVar44 = 0;
                bVar22 = false;
                bVar63 = false;
joined_r0x0001001110da:
                if (((ulong)local_c8 & 1) != 0) {
                  operator_delete((void *)CONCAT35(uStack_b3,local_b8));
                  bVar63 = bVar22;
                }
                if (!bVar63) {
                  pCVar36 = operator_new(0x80);
                  *(undefined8 *)pCVar36 = 0;
                  *(undefined8 *)(pCVar36 + 0x28) = 0;
                  *(undefined8 *)(pCVar36 + 0x30) = 0;
                  *(undefined8 *)(pCVar36 + 0x31) = 0;
                  *(undefined8 *)(pCVar36 + 0x39) = 0;
                  pCVar36[0x41] = (CWaveData)0xc9;
                  pvVar56 = (vector<CInstrumentArticulation,std::allocator<CInstrumentArticulation>>
                             *)(pCVar36 + 0x50);
                  *(undefined8 *)(pCVar36 + 0x50) = 0;
                  *(undefined8 *)(pCVar36 + 0x58) = 0;
                  *(undefined8 *)(pCVar36 + 0x60) = 0;
                  *(undefined8 *)(pCVar36 + 0x68) = 0;
                  *(undefined8 *)(pCVar36 + 0x70) = 0;
                  *(undefined8 *)(pCVar36 + 0x78) = 0;
                  fVar70 = (float)local_158[4];
                  uVar44 = (long)fVar70;
                  if (DAT_10027ed44 <= fVar70) {
                    uVar44 = (long)(fVar70 - DAT_10027ed44) ^ 0x8000000000000000;
                  }
                  iVar28 = local_158[7];
                  *(ulong *)(pCVar36 + 0x20) = uVar44;
                  iVar11 = local_158[5];
                  lVar65 = (long)iVar28;
                  if ((long)(uVar44 * 0x14) < (long)iVar28) {
                    lVar65 = uVar44 * 0x14;
                  }
                  uVar47 = lVar65 * iVar11;
                  *(int *)(pCVar36 + 0x1c) = iVar11;
                  *(ulong *)(pCVar36 + 8) = uVar47;
                  *(long *)(pCVar36 + 0x10) = lVar65;
                  pCVar36[0x18] = (CWaveData)((long)iVar11 == 2);
                  auVar14._8_8_ = 0;
                  auVar14._0_8_ = uVar47;
                  uVar44 = SUB168(auVar14 * ZEXT816(4),0);
                  if (SUB168(auVar14 * ZEXT816(4),8) != 0) {
                    uVar44 = 0xffffffffffffffff;
                  }
                  pvVar37 = operator_new__(uVar44);
                  *(void **)pCVar36 = pvVar37;
                  ___bzero(pvVar37,uVar47 * 4);
                  if (uVar47 != 0) {
                    pvVar41 = *(void **)(local_158 + 10);
                    if ((uVar47 < 8) ||
                       ((pvVar37 < (void *)((long)pvVar41 + uVar47 * 4) &&
                        (pvVar41 < (void *)((long)pvVar37 + uVar47 * 4))))) {
                      uVar44 = 0;
                    }
                    else {
                      uVar44 = uVar47 & 0xfffffffffffffff8;
                      uVar57 = (uVar44 - 8 >> 3) + 1;
                      if (uVar44 - 8 == 0) {
                        lVar65 = 0;
LAB_100111345:
                        pfVar5 = (float *)((long)pvVar41 + lVar65 * 4);
                        fVar70 = pfVar5[1];
                        fVar16 = pfVar5[2];
                        fVar17 = pfVar5[3];
                        pfVar3 = (float *)((long)pvVar41 + lVar65 * 4 + 0x10);
                        fVar18 = *pfVar3;
                        fVar19 = pfVar3[1];
                        fVar20 = pfVar3[2];
                        fVar21 = pfVar3[3];
                        pfVar3 = (float *)((long)pvVar37 + lVar65 * 4);
                        *pfVar3 = *pfVar5 * fVar9;
                        pfVar3[1] = fVar70 * fVar9;
                        pfVar3[2] = fVar16 * fVar9;
                        pfVar3[3] = fVar17 * fVar9;
                        pfVar5 = (float *)((long)pvVar37 + lVar65 * 4 + 0x10);
                        *pfVar5 = fVar18 * fVar9;
                        pfVar5[1] = fVar19 * fVar9;
                        pfVar5[2] = fVar20 * fVar9;
                        pfVar5[3] = fVar21 * fVar9;
                      }
                      else {
                        lVar39 = -(uVar57 & 0xfffffffffffffffe);
                        lVar65 = 0;
                        do {
                          pfVar5 = (float *)((long)pvVar41 + lVar65 * 4);
                          fVar70 = pfVar5[1];
                          fVar16 = pfVar5[2];
                          fVar17 = pfVar5[3];
                          pfVar3 = (float *)((long)pvVar41 + lVar65 * 4 + 0x10);
                          fVar18 = *pfVar3;
                          fVar19 = pfVar3[1];
                          fVar20 = pfVar3[2];
                          fVar21 = pfVar3[3];
                          pfVar3 = (float *)((long)pvVar37 + lVar65 * 4);
                          *pfVar3 = *pfVar5 * fVar9;
                          pfVar3[1] = fVar70 * fVar9;
                          pfVar3[2] = fVar16 * fVar9;
                          pfVar3[3] = fVar17 * fVar9;
                          pfVar5 = (float *)((long)pvVar37 + lVar65 * 4 + 0x10);
                          *pfVar5 = fVar18 * fVar9;
                          pfVar5[1] = fVar19 * fVar9;
                          pfVar5[2] = fVar20 * fVar9;
                          pfVar5[3] = fVar21 * fVar9;
                          pfVar5 = (float *)((long)pvVar41 + lVar65 * 4 + 0x20);
                          fVar70 = pfVar5[1];
                          fVar16 = pfVar5[2];
                          fVar17 = pfVar5[3];
                          pfVar3 = (float *)((long)pvVar41 + lVar65 * 4 + 0x30);
                          fVar18 = *pfVar3;
                          fVar19 = pfVar3[1];
                          fVar20 = pfVar3[2];
                          fVar21 = pfVar3[3];
                          pfVar3 = (float *)((long)pvVar37 + lVar65 * 4 + 0x20);
                          *pfVar3 = *pfVar5 * fVar9;
                          pfVar3[1] = fVar70 * fVar9;
                          pfVar3[2] = fVar16 * fVar9;
                          pfVar3[3] = fVar17 * fVar9;
                          pfVar5 = (float *)((long)pvVar37 + lVar65 * 4 + 0x30);
                          *pfVar5 = fVar18 * fVar9;
                          pfVar5[1] = fVar19 * fVar9;
                          pfVar5[2] = fVar20 * fVar9;
                          pfVar5[3] = fVar21 * fVar9;
                          lVar65 = lVar65 + 0x10;
                          lVar39 = lVar39 + 2;
                        } while (lVar39 != 0);
                        if ((uVar57 & 1) != 0) goto LAB_100111345;
                      }
                      if (uVar47 - uVar44 == 0) goto LAB_100111370;
                    }
                    uVar48 = ~uVar44;
                    for (uVar57 = uVar47 & 3; uVar57 != 0; uVar57 = uVar57 - 1) {
                      *(float *)((long)pvVar37 + uVar44 * 4) =
                           *(float *)((long)pvVar41 + uVar44 * 4) * fVar9;
                      uVar44 = uVar44 + 1;
                    }
                    if (2 < uVar48 + uVar47) {
                      do {
                        *(float *)((long)pvVar37 + uVar44 * 4) =
                             *(float *)((long)pvVar41 + uVar44 * 4) * fVar9;
                        *(float *)((long)pvVar37 + uVar44 * 4 + 4) =
                             *(float *)((long)pvVar41 + uVar44 * 4 + 4) * fVar9;
                        *(float *)((long)pvVar37 + uVar44 * 4 + 8) =
                             *(float *)((long)pvVar41 + uVar44 * 4 + 8) * fVar9;
                        *(float *)((long)pvVar37 + uVar44 * 4 + 0xc) =
                             *(float *)((long)pvVar41 + uVar44 * 4 + 0xc) * fVar9;
                        uVar44 = uVar44 + 4;
                      } while (uVar47 - uVar44 != 0);
                    }
                  }
LAB_100111370:
                  CWaveData::compressFloatData(pCVar36);
                  std::string::assign((char *)pvVar56);
                  if (*(long *)(pCVar36 + 0x10) == 0) {
                    bVar63 = true;
                    pCVar32 = local_160;
                    if ((local_161 & 1) == 0) goto LAB_100111454;
                    goto LAB_1001124da;
                  }
                  uVar44 = CWaveDataPool::AddWaveData(this_00,pCVar36);
                  if (*(ulong *)(pCVar36 + 0x20) != (ulong)*(uint *)(local_160 + 0x50)) {
                    CWaveData::ResampleData
                              (pCVar36,(uint)*(ulong *)(pCVar36 + 0x20),*(uint *)(local_160 + 0x50))
                    ;
                  }
                }
                CInstrumentArticulation::AddWaveIdx
                          ((ulong)local_1e0,uVar44,uVar66,(long)(int)local_190);
                local_190 = CONCAT44(local_190._4_4_,(int)local_190 + 1);
                pvVar56 = local_1e8;
              }
              pvVar56 = pvVar56 + 1;
            } while (pvVar56 != local_198);
          }
          uVar66 = uVar66 + 1;
          pCVar32 = local_160;
        } while (uVar66 != uVar10);
      }
      uVar50 = uVar50 + 1;
      bVar63 = (long)uVar50 < (long)local_1d8;
    } while (uVar50 != uVar52);
    bVar63 = true;
    pvVar56 = local_1e0;
    if ((long)local_1d8 <= (long)uVar50) goto LAB_100111454;
  }
LAB_1001124da:
  pvVar37 = *(void **)(pCVar32 + 0x30);
  pvVar41 = *(void **)(pCVar32 + 0x38);
  if (pvVar41 != pvVar37) {
    uVar52 = 0;
    do {
      pCVar36 = *(CWaveData **)((long)pvVar37 + uVar52 * 8);
      if (pCVar36 != (CWaveData *)0x0) {
        CWaveData::~CWaveData(pCVar36);
        operator_delete(pCVar36);
        *(undefined8 *)(*(long *)(pCVar32 + 0x30) + uVar52 * 8) = 0;
        pvVar37 = *(void **)(pCVar32 + 0x30);
        pvVar41 = *(void **)(pCVar32 + 0x38);
      }
      uVar52 = uVar52 + 1;
    } while (uVar52 < (ulong)((long)pvVar41 - (long)pvVar37 >> 3));
  }
  *(void **)(pCVar32 + 0x38) = pvVar37;
  if (pvVar37 != (void *)0x0) {
    *(void **)(pCVar32 + 0x38) = pvVar37;
    operator_delete(pvVar37);
  }
  pCVar13 = *(CInstrumentArticulation **)local_1a0;
  if (pCVar13 != (CInstrumentArticulation *)0x0) {
    this_01 = *(CInstrumentArticulation **)(pCVar32 + 0x20);
    pCVar60 = pCVar13;
    if (this_01 != pCVar13) {
      do {
        this_01 = this_01 + -0x50;
        CInstrumentArticulation::~CInstrumentArticulation(this_01);
      } while (pCVar13 != this_01);
      pCVar60 = *(CInstrumentArticulation **)local_1a0;
    }
    *(CInstrumentArticulation **)(pCVar32 + 0x20) = pCVar13;
    operator_delete(pCVar60);
  }
  operator_delete(pCVar32);
  operator_delete(plVar31);
  if (bVar63) {
    puVar29 = operator_new__(0x2b);
    lVar42 = 0;
    LOCK();
    *puVar29 = 0;
    UNLOCK();
    *(undefined8 *)(puVar29 + 2) = 0x14;
    local_c8 = (undefined1  [8])(puVar29 + 4);
    SVar45 = (String)0x54;
    pSVar53 = (String *)local_c8;
    do {
      if ((char)SVar45 < '\0') {
        *pSVar53 = (String)((byte)SVar45 >> 6 | 0xc0);
        pSVar53[1] = (String)((byte)SVar45 & 0x3f | 0x80);
        pSVar53 = pSVar53 + 1;
      }
      else {
        *pSVar53 = SVar45;
      }
      pSVar43 = pSVar53 + 1;
      SVar45 = *(String *)("TCI Export Error" + lVar42 + 1);
      if ((char)SVar45 < '\0') {
        pSVar53[1] = (String)((byte)SVar45 >> 6 | 0xc0);
        pSVar53[2] = (String)((byte)SVar45 & 0x3f | 0x80);
      }
      else {
        *pSVar43 = SVar45;
        pSVar43 = pSVar53;
      }
      pSVar53 = pSVar43 + 2;
      SVar45 = *(String *)("TCI Export Error" + lVar42 + 2);
      lVar42 = lVar42 + 2;
    } while (lVar42 != 0x10);
    *pSVar53 = (String)0x0;
    puVar29 = operator_new__(0x37);
    LOCK();
    *puVar29 = 0;
    UNLOCK();
    *(undefined8 *)(puVar29 + 2) = 0x20;
    bVar46 = 0x43;
    lVar42 = 2;
    pbVar55 = (byte *)(puVar29 + 4);
    while( true ) {
      if ((char)bVar46 < '\0') {
        *pbVar55 = bVar46 >> 6 | 0xc0;
        pbVar55[1] = bVar46 & 0x3f | 0x80;
        pbVar55 = pbVar55 + 1;
      }
      else {
        *pbVar55 = bVar46;
      }
      pbVar2 = pbVar55 + 1;
      if (lVar42 == 0x1e) break;
      bVar46 = "TCI Export Error"[lVar42 + 0x10];
      if ((char)bVar46 < '\0') {
        pbVar55[1] = bVar46 >> 6 | 0xc0;
        pbVar55[2] = bVar46 & 0x3f | 0x80;
        pbVar55 = pbVar2;
      }
      else {
        *pbVar2 = bVar46;
      }
      pbVar55 = pbVar55 + 2;
      bVar46 = "Cannot find source wave files"[lVar42];
      lVar42 = lVar42 + 2;
    }
    *pbVar2 = 0;
    local_188._0_8_ = puVar29 + 4;
    piVar30 = operator_new__(0x1b);
    LOCK();
    *piVar30 = 0;
    UNLOCK();
    piVar30[2] = 4;
    piVar30[3] = 0;
    local_200 = piVar30 + 4;
    *(undefined2 *)(piVar30 + 4) = 0x6b4f;
    *(undefined1 *)((long)piVar30 + 0x12) = 0;
    juce::AlertWindow::showMessageBox
              (2,local_c8,local_188,&local_200,*(undefined8 *)(lVar12 + 0x288));
    LOCK();
    iVar27 = *piVar30;
    *piVar30 = *piVar30 + -1;
    UNLOCK();
    if (iVar27 == 0) {
      operator_delete__(piVar30);
    }
    piVar30 = (int *)(local_188._0_8_ + -0x10);
    if (piVar30 != &juce::emptyString) {
      LOCK();
      iVar27 = *piVar30;
      *piVar30 = *piVar30 + -1;
      UNLOCK();
      if (iVar27 == 0) {
        operator_delete__(piVar30);
      }
    }
    pSVar53 = (String *)((long)local_c8 + -0x10);
    if (pSVar53 != (String *)&juce::emptyString) {
      LOCK();
      iVar27 = *(int *)pSVar53;
      *(int *)pSVar53 = *(int *)pSVar53 + -1;
      UNLOCK();
      if (iVar27 == 0) {
        operator_delete__(pSVar53);
      }
    }
  }
  local_1c8 = local_1c8 + -0x10;
  if (local_1c8 !=
      (vector<CInstrumentArticulation,std::allocator<CInstrumentArticulation>> *)&juce::emptyString)
  {
    LOCK();
    iVar27 = *(int *)local_1c8;
    *(int *)local_1c8 = *(int *)local_1c8 + -1;
    UNLOCK();
    if (iVar27 == 0) {
      operator_delete__(local_1c8);
    }
  }
  pSVar53 = (String *)((long)auVar24 + -0x10);
  if (pSVar53 != (String *)&juce::emptyString) {
    LOCK();
    iVar27 = *(int *)pSVar53;
    *(int *)pSVar53 = *(int *)pSVar53 + -1;
    UNLOCK();
    if (iVar27 == 0) {
      operator_delete__(pSVar53);
    }
  }
  pSVar53 = local_1a8 + -0x10;
  if (pSVar53 != (String *)&juce::emptyString) {
    LOCK();
    iVar27 = *(int *)pSVar53;
    *(int *)pSVar53 = *(int *)pSVar53 + -1;
    UNLOCK();
    if (iVar27 == 0) {
      operator_delete__(pSVar53);
    }
  }
  piVar30 = (int *)(local_1d0 + -0x10);
  if (piVar30 != &juce::emptyString) {
    LOCK();
    iVar27 = *piVar30;
    *piVar30 = *piVar30 + -1;
    UNLOCK();
    if (iVar27 == 0) {
      operator_delete__(piVar30);
    }
  }
LAB_100112850:
  juce::FileChooser::~FileChooser(local_148);
  if (*(long *)PTR____stack_chk_guard_1003d82a0 == local_38) {
    return;
  }
                    /* WARNING: Subroutine does not return */
  ___stack_chk_fail();
LAB_100110782:
  iVar28 = 0;
  if (6 < iVar27) {
    iVar28 = iVar27 + -6;
  }
  pSVar53 = (String *)
            juce::StringHolderUtils::createFromCharPointer<juce::CharPointer_UTF8>(pSVar53,iVar28);
  pSVar43 = local_1a8 + -0x10;
  local_1a8 = pSVar53;
  if (pSVar43 != (String *)&juce::emptyString) {
    LOCK();
    iVar27 = *(int *)pSVar43;
    *(int *)pSVar43 = *(int *)pSVar43 + -1;
    UNLOCK();
    if (iVar27 == 0) {
      operator_delete__(pSVar43);
    }
  }
  goto LAB_1001107c6;
}


================================================================================
Function: std::__function::__func<CEditorPane::CEditorPane(CEDInstrument*,MainComponent*,CColourMgr*)::$_3,std::allocator<CEditorPane::CEditorPane(CEDInstrument*,MainComponent*,CColourMgr*)::$_3>,void()>::operator() @ 10010e9d0
================================================================================

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */
/* std::__function::__func<CEditorPane::CEditorPane(CEDInstrument*, MainComponent*,
   CColourMgr*)::$_3, std::allocator<CEditorPane::CEditorPane(CEDInstrument*, MainComponent*,
   CColourMgr*)::$_3>, void ()>::TEMPNAMEPLACEHOLDERVALUE() */

void __thiscall
std::__function::
__func<CEditorPane::CEditorPane(CEDInstrument*,MainComponent*,CColourMgr*)::$_3,std::allocator<CEditorPane::CEditorPane(CEDInstrument*,MainComponent*,CColourMgr*)::$_3>,void()>
::operator()(__func<CEditorPane::CEditorPane(CEDInstrument*,MainComponent*,CColourMgr*)::__3,std::allocator<CEditorPane::CEditorPane(CEDInstrument*,MainComponent*,CColourMgr*)::__3>,void()>
             *this)

{
  pthread_mutex_t *ppVar1;
  File *pFVar2;
  char *pcVar3;
  undefined8 *puVar4;
  char *pcVar5;
  undefined8 *puVar6;
  CWaveData CVar7;
  int iVar8;
  undefined1 auVar9 [16];
  undefined8 uVar10;
  undefined8 uVar11;
  char cVar12;
  String SVar13;
  int iVar14;
  undefined4 *puVar15;
  int *piVar16;
  long *plVar17;
  CInstrumentSerializer *pCVar18;
  FILE *pFVar19;
  CWaveDataPool *this_00;
  size_t sVar20;
  CEDWaveItem *pCVar21;
  undefined8 uVar22;
  void *pvVar23;
  byte *pbVar24;
  void *pvVar25;
  int iVar26;
  long lVar27;
  byte *pbVar28;
  ulong uVar29;
  uint *puVar30;
  ulong uVar31;
  byte bVar32;
  ulong uVar33;
  ulong uVar34;
  long lVar35;
  ulong uVar36;
  CInstrumentArticulation *pCVar37;
  CInstrumentArticulation *pCVar38;
  String *this_01;
  byte *pbVar39;
  ulong uVar40;
  long lVar41;
  CInstrumentArticulation *pCVar42;
  long lVar43;
  CWaveData *pCVar44;
  ulong uVar45;
  long lVar46;
  uint uVar47;
  long *plVar48;
  uint uVar49;
  bool bVar50;
  undefined4 uVar51;
  float fVar52;
  undefined1 auVar53 [16];
  int local_1b8;
  long local_1b0;
  char *local_1a8;
  long local_1a0;
  undefined8 local_198;
  size_t local_190;
  void *local_188;
  long local_180;
  long local_178;
  int *local_170;
  long local_168;
  pthread_mutex_t *local_160;
  ulong local_158;
  long local_150;
  ulong local_148;
  CInstrumentSerializer *local_140;
  CEDWaveItem *local_138;
  ulong local_130;
  ulong local_128;
  CInstrumentSerializer *local_120;
  FileChooser local_118 [128];
  undefined1 local_98 [16];
  undefined1 local_88 [16];
  undefined1 local_78 [16];
  undefined1 local_68 [16];
  undefined8 local_58;
  size_t local_50;
  void *local_48;
  byte local_3b [3];
  long local_38;
  
  local_38 = *(long *)PTR____stack_chk_guard_1003d82a0;
  lVar35 = *(long *)(this + 8);
  puVar15 = operator_new__(0x33);
  LOCK();
  *puVar15 = 0;
  UNLOCK();
  *(undefined8 *)(puVar15 + 2) = 0x1c;
  bVar32 = 0x53;
  lVar27 = 2;
  pbVar39 = (byte *)(puVar15 + 4);
  do {
    if ((char)bVar32 < '\0') {
      *pbVar39 = bVar32 >> 6 | 0xc0;
      pbVar39[1] = bVar32 & 0x3f | 0x80;
      pbVar39 = pbVar39 + 1;
    }
    else {
      *pbVar39 = bVar32;
    }
    bVar32 = "Articulation Name"[lVar27 + 0x11];
    if ((char)bVar32 < '\0') {
      pbVar39[1] = bVar32 >> 6 | 0xc0;
      pbVar39[2] = bVar32 & 0x3f | 0x80;
      pbVar39 = pbVar39 + 1;
    }
    else {
      pbVar39[1] = bVar32;
    }
    pbVar39 = pbVar39 + 2;
    bVar32 = "Select TCI file to load..."[lVar27];
    lVar27 = lVar27 + 2;
  } while (lVar27 != 0x1c);
  *pbVar39 = 0;
  local_98._0_8_ = puVar15 + 4;
  piVar16 = operator_new__(0x1f);
  pFVar2 = (File *)(lVar35 + 0x1600);
  LOCK();
  *piVar16 = 0;
  UNLOCK();
  piVar16[2] = 8;
  piVar16[3] = 0;
  local_58 = piVar16 + 4;
  piVar16[4] = 0x63742e2a;
  *(undefined2 *)(piVar16 + 5) = 0x69;
  juce::FileChooser::FileChooser
            (local_118,(String *)local_98,pFVar2,(String *)&local_58,true,false,(Component *)0x0);
  LOCK();
  iVar14 = *piVar16;
  *piVar16 = *piVar16 + -1;
  UNLOCK();
  if (iVar14 == 0) {
    operator_delete__(piVar16);
  }
  piVar16 = (int *)(local_98._0_8_ + -0x10);
  if (piVar16 != &juce::emptyString) {
    LOCK();
    iVar14 = *piVar16;
    *piVar16 = *piVar16 + -1;
    UNLOCK();
    if (iVar14 == 0) {
      operator_delete__(piVar16);
    }
  }
  cVar12 = juce::FileChooser::showDialog((int)local_118,(FilePreviewComponent *)0x5);
  if (cVar12 == '\0') goto LAB_10010efd5;
  juce::FileChooser::getResult();
  juce::File::parseAbsolutePath((File *)local_98,(String *)&local_1a8);
  lVar27 = *(long *)pFVar2;
  *(undefined8 *)pFVar2 = local_98._0_8_;
  local_98._0_8_ = lVar27;
  piVar16 = (int *)(lVar27 + -0x10);
  if (piVar16 != &juce::emptyString) {
    LOCK();
    iVar14 = *piVar16;
    *piVar16 = *piVar16 + -1;
    UNLOCK();
    if (iVar14 == 0) {
      operator_delete__(piVar16);
    }
  }
  CEDInstrument::Reset(*(CEDInstrument **)(lVar35 + 0x270));
  plVar17 = operator_new(8);
  pcVar3 = local_1a8;
  *plVar17 = *(long *)(lVar35 + 0x270);
  local_170 = (int *)(local_1a8 + -0x10);
  if (local_170 != &juce::emptyString) {
    LOCK();
    *local_170 = *local_170 + 1;
    UNLOCK();
  }
  local_1a0 = lVar35;
  pCVar18 = operator_new(0x68);
  *(undefined1 (*) [16])pCVar18 = (undefined1  [16])0x0;
  *(undefined4 *)(pCVar18 + 0x5c) = 0;
  *(undefined1 (*) [16])(pCVar18 + 0x18) = (undefined1  [16])0x0;
  *(undefined1 (*) [16])(pCVar18 + 0x28) = (undefined1  [16])0x0;
  *(undefined1 (*) [16])(pCVar18 + 0x38) = (undefined1  [16])0x0;
  *(undefined8 *)(pCVar18 + 0x48) = 0;
  *(undefined8 *)(pCVar18 + 0x60) = 0x10000ac44;
  *(undefined4 *)(pCVar18 + 0x50) = 0xac44;
  local_168 = *plVar17;
  pCVar18[0x58] = (CInstrumentSerializer)0x0;
  *(undefined8 *)(pCVar18 + 0x38) = 0;
  *(undefined8 *)(pCVar18 + 0x20) = 0;
  pFVar19 = _fopen(pcVar3,"rb");
  local_140 = pCVar18 + 0x18;
  *(FILE **)(pCVar18 + 8) = pFVar19;
  local_120 = pCVar18;
  if (pFVar19 != (FILE *)0x0) {
    this_00 = (CWaveDataPool *)(pCVar18 + 0x30);
    local_68 = (undefined1  [16])0x0;
    local_78 = (undefined1  [16])0x0;
    local_88 = (undefined1  [16])0x0;
    local_98 = (undefined1  [16])0x0;
    lVar35 = 0;
    while( true ) {
      local_58 = (int *)((ulong)local_58 & 0xffffffffffffff00);
      if (pFVar19 == (FILE *)0x0) {
        SVar13 = (String)0x0;
      }
      else {
        _fread(&local_58,1,1,pFVar19);
        SVar13 = local_58._0_1_;
      }
      *(String *)(local_98 + lVar35) = SVar13;
      if (lVar35 == 0x3f) break;
      lVar35 = lVar35 + 1;
      pFVar19 = *(FILE **)(pCVar18 + 8);
    }
    local_68[0xf] = 0;
    sVar20 = _strlen(local_98);
    if (0xffffffffffffffef < sVar20) {
                    /* WARNING: Subroutine does not return */
      std::__basic_string_common<true>::__throw_length_error();
    }
    if (sVar20 < 0x17) {
      local_198 = CONCAT71(local_198._1_7_,(char)sVar20 * '\x02');
      pvVar25 = (void *)((long)&local_198 + 1);
      if (sVar20 != 0) goto LAB_10010ed93;
    }
    else {
      uVar36 = sVar20 + 0x10 & 0xfffffffffffffff0;
      pvVar25 = operator_new(uVar36);
      local_198 = uVar36 | 1;
      local_190 = sVar20;
      local_188 = pvVar25;
LAB_10010ed93:
      _memcpy(pvVar25,local_98,sVar20);
    }
    *(undefined1 *)((long)pvVar25 + sVar20) = 0;
    pCVar18 = local_120;
    uVar36 = local_190;
    if ((local_198 & 1) == 0) {
      uVar36 = local_198 >> 1 & 0x7f;
    }
    if (((uVar36 == 0x1d) &&
        (iVar14 = std::string::compare((ulong)&local_198,0,(char *)0xffffffffffffffff,0x1003b836d),
        iVar14 == 0)) && (iVar14 = CInstrumentSerializer::getLong(pCVar18), iVar14 == 1)) {
      CInstrumentSerializer::getLong(pCVar18);
      lVar35 = CInstrumentSerializer::getLong(pCVar18);
      if ((lVar35 != 4) || (iVar14 = CInstrumentSerializer::getLong(pCVar18), iVar14 != 0x15))
      goto LAB_10010ee3f;
      CInstrumentSerializer::getLong(pCVar18);
      iVar14 = CInstrumentSerializer::getLong(pCVar18);
      if (iVar14 != 0) goto LAB_10010ee3f;
      iVar14 = CInstrumentSerializer::getLong(pCVar18);
      CInstrumentSerializer::getLong(pCVar18);
      if (iVar14 != 2) goto LAB_10010ee3f;
      local_158 = 0;
      local_150 = CONCAT44(local_150._4_4_,DAT_10027eb8c);
      local_178 = CONCAT44(local_178._4_4_,DAT_10027eb68);
      local_148 = 0xac44;
      local_128 = 0;
      local_130 = 0;
      do {
        iVar14 = CInstrumentSerializer::getLong(pCVar18);
        sVar20 = CInstrumentSerializer::getLong(pCVar18);
        pCVar18 = local_120;
        switch(iVar14) {
        case 4:
          for (lVar35 = CInstrumentSerializer::getLong(local_120); lVar35 != 0; lVar35 = lVar35 + -1
              ) {
            CInstrumentSerializer::getLong(pCVar18);
            pCVar21 = (CEDWaveItem *)CInstrumentSerializer::getLong(pCVar18);
            local_58 = (int *)((ulong)local_58 & 0xffffffffffffff00);
            local_180 = lVar35;
            if (*(FILE **)(pCVar18 + 8) == (FILE *)0x0) {
              local_160 = (pthread_mutex_t *)((ulong)local_160 & 0xffffffff00000000);
            }
            else {
              _fread(&local_58,1,1,*(FILE **)(pCVar18 + 8));
              local_160 = (pthread_mutex_t *)CONCAT44(local_160._4_4_,(uint)(byte)local_58._0_1_);
            }
            lVar35 = CInstrumentSerializer::getLong(pCVar18);
            uVar22 = CInstrumentSerializer::getLong(pCVar18);
            local_138 = pCVar21;
            pvVar25 = operator_new__((ulong)(pCVar21 + -9));
            if (*(FILE **)(pCVar18 + 8) != (FILE *)0x0) {
              _fread(pvVar25,1,(size_t)(pCVar21 + -9),*(FILE **)(pCVar18 + 8));
            }
            pCVar44 = operator_new(0x80);
            *(undefined8 *)pCVar44 = 0;
            *(undefined8 *)(pCVar44 + 8) = uVar22;
            *(undefined8 *)(pCVar44 + 0x10) = 0;
            *(uint *)(pCVar44 + 0x1c) = (uint)(byte)local_160;
            *(ulong *)(pCVar44 + 0x20) = local_148;
            *(undefined8 *)(pCVar44 + 0x28) = 0;
            *(void **)(pCVar44 + 0x30) = pvVar25;
            *(long *)(pCVar44 + 0x38) = lVar35;
            *(undefined2 *)(pCVar44 + 0x40) = 0xc900;
            *(undefined1 (*) [16])(pCVar44 + 0x50) = (undefined1  [16])0x0;
            *(undefined1 (*) [16])(pCVar44 + 0x60) = (undefined1  [16])0x0;
            *(undefined1 (*) [16])(pCVar44 + 0x70) = (undefined1  [16])0x0;
            pCVar44[0x18] = (CWaveData)((byte)local_160 == 2);
            uVar36 = lVar35 * 0x20000000 + 0xa00000000;
            lVar35 = (long)local_138 - (uVar36 >> 0x20);
            if (0 < (int)lVar35) {
              lVar35 = lVar35 << 0x20;
              pvVar23 = operator_new__(lVar35 + 0x100000000 >> 0x20);
              lVar35 = lVar35 >> 0x20;
              _memcpy(pvVar23,(CEDWaveItem *)((long)pvVar25 + (long)(local_138 + (-9 - lVar35))),
                      (ulong)(~(uint)(uVar36 >> 0x20) + (int)local_138) + 1);
              *(undefined1 *)((long)pvVar23 + lVar35) = 0;
              std::string::assign((char *)(pCVar44 + 0x68));
              operator_delete__(pvVar23);
            }
            pCVar18 = local_120;
            lVar35 = local_180;
            if (local_148 != *(uint *)(local_120 + 0x60)) {
              CWaveData::ResampleData(pCVar44,(uint)local_148,*(uint *)(local_120 + 0x60));
              *(undefined4 *)(pCVar18 + 0x50) = *(undefined4 *)(pCVar18 + 0x60);
            }
            CWaveDataPool::AddWaveData(this_00,pCVar44);
          }
          iVar14 = CInstrumentSerializer::getLong(pCVar18);
          CInstrumentSerializer::getLong(pCVar18);
        default:
          if (iVar14 == 3) {
            bVar50 = true;
            pCVar18 = local_120;
            goto LAB_10010f988;
          }
          break;
        case 7:
          uVar47 = (int)local_128 + 1;
          uVar33 = (ulong)uVar47;
          pCVar38 = *(CInstrumentArticulation **)(local_120 + 0x20);
          lVar35 = (long)pCVar38 - *(long *)(local_120 + 0x18) >> 4;
          uVar36 = lVar35 * -0x3333333333333333;
          if (uVar36 < uVar33) {
            vector<CInstrumentArticulation,std::allocator<CInstrumentArticulation>>::__append
                      ((vector<CInstrumentArticulation,std::allocator<CInstrumentArticulation>> *)
                       local_140,uVar33 + lVar35 * 0x3333333333333333);
          }
          else if (uVar36 - uVar33 != 0) {
            pCVar37 = (CInstrumentArticulation *)(*(long *)(local_120 + 0x18) + uVar33 * 0x50);
            while (pCVar38 != pCVar37) {
              pCVar38 = pCVar38 + -0x50;
              CInstrumentArticulation::~CInstrumentArticulation(pCVar38);
            }
            *(CInstrumentArticulation **)(local_120 + 0x20) = pCVar37;
          }
          lVar35 = *(long *)local_140;
          lVar27 = (local_128 & 0xffffffff) * 0x50;
          *(undefined8 *)(lVar35 + 0x20 + lVar27) = *(undefined8 *)(lVar35 + 0x18 + lVar27);
          local_58 = (int *)((ulong)local_58 & 0xffffffff00000000);
          vector<int,std::allocator<int>>::__append(lVar35 + lVar27 + 0x18,(int *)&local_58);
          *(uint *)(local_168 + 0x80) = uVar47;
          goto LAB_10010f978;
        case 8:
          pbVar39 = operator_new__(sVar20 + 1);
          if (*(FILE **)(local_120 + 8) != (FILE *)0x0) {
            _fread(pbVar39,1,sVar20,*(FILE **)(local_120 + 8));
          }
          pbVar39[sVar20] = 0;
          sVar20 = _strlen((char *)pbVar39);
          if (0xffffffffffffffef < sVar20) {
                    /* WARNING: Subroutine does not return */
            std::__basic_string_common<true>::__throw_length_error();
          }
          if (sVar20 < 0x17) {
            local_58 = (int *)CONCAT71(local_58._1_7_,(char)sVar20 * '\x02');
            pvVar25 = (void *)((long)&local_58 + 1);
            if (sVar20 != 0) goto LAB_10010f7bc;
          }
          else {
            uVar36 = sVar20 + 0x10 & 0xfffffffffffffff0;
            pvVar25 = operator_new(uVar36);
            local_58 = (int *)(uVar36 | 1);
            local_50 = sVar20;
            local_48 = pvVar25;
LAB_10010f7bc:
            _memcpy(pvVar25,pbVar39,sVar20);
          }
          *(undefined1 *)((long)pvVar25 + sVar20) = 0;
          iVar14 = (int)local_128;
          std::string::operator=
                    ((string *)(*(long *)local_140 + (local_128 & 0xffffffff) * 0x50 + 0x38),
                     (string *)&local_58);
          bVar32 = *pbVar39;
          pbVar24 = &DAT_10040e770;
          if (bVar32 != 0) {
            lVar35 = 0;
            pbVar24 = pbVar39 + 1;
            do {
              lVar27 = lVar35 + (ulong)(bVar32 >> 7);
              lVar35 = lVar27 + 1;
              bVar32 = *pbVar24;
              pbVar24 = pbVar24 + 1;
            } while (bVar32 != 0);
            uVar36 = lVar27 + 5U & 0xfffffffffffffffc;
            puVar15 = operator_new__(uVar36 + 0x17);
            LOCK();
            *puVar15 = 0;
            UNLOCK();
            *(ulong *)(puVar15 + 2) = uVar36;
            pbVar24 = (byte *)(puVar15 + 4);
            bVar32 = *pbVar39;
            pbVar39 = pbVar39 + 1;
            pbVar28 = pbVar24;
            while (bVar32 != 0) {
              if ((char)bVar32 < '\0') {
                *pbVar28 = bVar32 >> 6 | 0xc0;
                pbVar28[1] = bVar32 & 0x3f | 0x80;
                pbVar28 = pbVar28 + 1;
              }
              else {
                *pbVar28 = bVar32;
              }
              pbVar28 = pbVar28 + 1;
              bVar32 = *pbVar39;
              pbVar39 = pbVar39 + 1;
            }
            *pbVar28 = 0;
            iVar14 = (int)local_128;
          }
          lVar35 = *(long *)(local_168 + (long)iVar14 * 8);
          pbVar39 = pbVar24 + -0x10;
          if (pbVar39 != (byte *)&juce::emptyString) {
            LOCK();
            *(int *)pbVar39 = *(int *)pbVar39 + 1;
            UNLOCK();
          }
          LOCK();
          plVar48 = (long *)(lVar35 + 0x20608);
          lVar35 = *plVar48;
          *plVar48 = (long)pbVar24;
          UNLOCK();
          piVar16 = (int *)(lVar35 + -0x10);
          if (piVar16 != &juce::emptyString) {
            LOCK();
            iVar14 = *piVar16;
            *piVar16 = *piVar16 + -1;
            UNLOCK();
            if (iVar14 == 0) {
              operator_delete__(piVar16);
            }
          }
          if (pbVar39 != (byte *)&juce::emptyString) {
            LOCK();
            iVar14 = *(int *)pbVar39;
            *(int *)pbVar39 = *(int *)pbVar39 + -1;
            UNLOCK();
            if (iVar14 == 0) {
              operator_delete__(pbVar39);
            }
          }
          if (((ulong)local_58 & 1) != 0) {
            operator_delete(local_48);
          }
          break;
        case 9:
          uVar51 = CInstrumentSerializer::getFloat(local_120);
          local_150 = CONCAT44(local_150._4_4_,uVar51);
          break;
        case 10:
          uVar51 = CInstrumentSerializer::getFloat(local_120);
          local_178 = CONCAT44(local_178._4_4_,uVar51);
          break;
        case 0xb:
          *(int *)(*(long *)(local_168 + (long)(int)local_128 * 8) + 0x20600) = (int)local_130 + 1;
          local_158 = 0;
          break;
        case 0xc:
          iVar14 = CInstrumentSerializer::getLong(local_120);
          CInstrumentArticulation::SetLayerVelocity
                    ((CInstrumentArticulation *)
                     ((local_128 & 0xffffffff) * 0x50 + *(long *)(pCVar18 + 0x18)),
                     local_130 & 0xffffffff,iVar14);
          break;
        case 0xd:
          fVar52 = (float)CInstrumentSerializer::getFloat(local_120);
          CInstrumentArticulation::SetLayerMinVolume
                    ((CInstrumentArticulation *)
                     ((local_128 & 0xffffffff) * 0x50 + *(long *)(pCVar18 + 0x18)),
                     local_130 & 0xffffffff,fVar52);
          break;
        case 0xe:
          fVar52 = (float)CInstrumentSerializer::getFloat(local_120);
          CInstrumentArticulation::SetLayerMaxVolume
                    ((CInstrumentArticulation *)
                     ((local_128 & 0xffffffff) * 0x50 + *(long *)(pCVar18 + 0x18)),
                     local_130 & 0xffffffff,fVar52);
          break;
        case 0xf:
          uVar36 = CInstrumentSerializer::getLong(local_120);
          uVar29 = local_128 & 0xffffffff;
          lVar35 = *(long *)(pCVar18 + 0x18);
          lVar27 = *(long *)(pCVar18 + 0x20) - lVar35 >> 4;
          uVar33 = lVar27 * -0x3333333333333333;
          if (uVar33 < uVar29 || uVar33 - uVar29 == 0) {
            vector<CInstrumentArticulation,std::allocator<CInstrumentArticulation>>::__append
                      ((vector<CInstrumentArticulation,std::allocator<CInstrumentArticulation>> *)
                       local_140,uVar29 + lVar27 * 0x3333333333333333 + 1);
            lVar35 = *(long *)local_140;
          }
          CInstrumentArticulation::AddWaveIdx
                    (uVar29 * 0x50 + lVar35,uVar36,local_130 & 0xffffffff,local_158 & 0xffffffff);
          uVar47 = (int)local_158 + 1;
          local_158 = (ulong)uVar47;
          if ((int)local_128 < 0x10) {
            lVar35 = *(long *)(local_168 + (long)(int)local_128 * 8);
          }
          else {
            lVar35 = 0;
          }
          if (*(uint *)(lVar35 + 0x20604) < uVar47) {
            *(uint *)(lVar35 + 0x20604) = uVar47;
          }
          break;
        case 0x10:
          uVar51 = CInstrumentSerializer::getFloat(local_120);
          *(undefined4 *)
           (*(long *)(*(long *)(pCVar18 + 0x18) + (local_128 & 0xffffffff) * 0x50) + 0x68 +
           (local_130 & 0xffffffff) * 0x70) = uVar51;
          break;
        case 0x11:
          uVar51 = CInstrumentSerializer::getFloat(local_120);
          *(undefined4 *)
           (*(long *)(*(long *)(pCVar18 + 0x18) + (local_128 & 0xffffffff) * 0x50) + 100 +
           (local_130 & 0xffffffff) * 0x70) = uVar51;
          break;
        case 0x12:
          local_130 = (ulong)((int)local_130 + 1);
          break;
        case 0x13:
          lVar35 = *(long *)local_140;
          lVar41 = (local_128 & 0xffffffff) * 0x50;
          *(undefined4 *)(lVar35 + 0x30 + lVar41) = (undefined4)local_150;
          *(undefined4 *)(lVar35 + 0x34 + lVar41) = (undefined4)local_178;
          lVar27 = *(long *)(lVar35 + 0x18 + lVar41);
          lVar46 = 0;
          bVar50 = false;
          do {
            pcVar3 = (char *)(lVar27 + lVar46 * 4);
            pcVar5 = (char *)(lVar27 + 0x10 + lVar46 * 4);
            auVar53[0] = -(*pcVar5 == '\0' && *pcVar3 == '\0');
            auVar53[1] = -(pcVar5[1] == '\0' && pcVar3[1] == '\0');
            auVar53[2] = -(pcVar5[2] == '\0' && pcVar3[2] == '\0');
            auVar53[3] = -(pcVar5[3] == '\0' && pcVar3[3] == '\0');
            auVar53[4] = -(pcVar5[4] == '\0' && pcVar3[4] == '\0');
            auVar53[5] = -(pcVar5[5] == '\0' && pcVar3[5] == '\0');
            auVar53[6] = -(pcVar5[6] == '\0' && pcVar3[6] == '\0');
            auVar53[7] = -(pcVar5[7] == '\0' && pcVar3[7] == '\0');
            auVar53[8] = -(pcVar5[8] == '\0' && pcVar3[8] == '\0');
            auVar53[9] = -(pcVar5[9] == '\0' && pcVar3[9] == '\0');
            auVar53[10] = -(pcVar5[10] == '\0' && pcVar3[10] == '\0');
            auVar53[0xb] = -(pcVar5[0xb] == '\0' && pcVar3[0xb] == '\0');
            auVar53[0xc] = -(pcVar5[0xc] == '\0' && pcVar3[0xc] == '\0');
            auVar53[0xd] = -(pcVar5[0xd] == '\0' && pcVar3[0xd] == '\0');
            auVar53[0xe] = -(pcVar5[0xe] == '\0' && pcVar3[0xe] == '\0');
            auVar53[0xf] = -(pcVar5[0xf] == '\0' && pcVar3[0xf] == '\0');
            if ((ushort)((ushort)(SUB161(auVar53 >> 7,0) & 1) |
                         (ushort)(SUB161(auVar53 >> 0xf,0) & 1) << 1 |
                         (ushort)(SUB161(auVar53 >> 0x17,0) & 1) << 2 |
                         (ushort)(SUB161(auVar53 >> 0x1f,0) & 1) << 3 |
                         (ushort)(SUB161(auVar53 >> 0x27,0) & 1) << 4 |
                         (ushort)(SUB161(auVar53 >> 0x2f,0) & 1) << 5 |
                         (ushort)(SUB161(auVar53 >> 0x37,0) & 1) << 6 |
                         (ushort)(SUB161(auVar53 >> 0x3f,0) & 1) << 7 |
                         (ushort)(SUB161(auVar53 >> 0x47,0) & 1) << 8 |
                         (ushort)(SUB161(auVar53 >> 0x4f,0) & 1) << 9 |
                         (ushort)(SUB161(auVar53 >> 0x57,0) & 1) << 10 |
                         (ushort)(SUB161(auVar53 >> 0x5f,0) & 1) << 0xb |
                         (ushort)(SUB161(auVar53 >> 0x67,0) & 1) << 0xc |
                         (ushort)(SUB161(auVar53 >> 0x6f,0) & 1) << 0xd |
                         (ushort)(SUB161(auVar53 >> 0x77,0) & 1) << 0xe |
                        (ushort)(auVar53[0xf] >> 7) << 0xf) != 0xffff) {
              bVar50 = true;
            }
            lVar46 = lVar46 + 8;
          } while (lVar46 != 0x80);
          if (bVar50) {
            lVar35 = 0;
            iVar14 = 0;
            do {
              iVar26 = *(int *)(lVar27 + lVar35 * 4);
              iVar8 = *(int *)(lVar27 + 4 + lVar35 * 4);
              if (iVar26 != 0) {
                iVar14 = iVar26;
              }
              *(int *)(lVar27 + lVar35 * 4) = iVar14;
              if (iVar8 != 0) {
                iVar14 = iVar8;
              }
              *(int *)(lVar27 + 4 + lVar35 * 4) = iVar14;
              iVar26 = *(int *)(lVar27 + 8 + lVar35 * 4);
              if (iVar26 != 0) {
                iVar14 = iVar26;
              }
              *(int *)(lVar27 + 8 + lVar35 * 4) = iVar14;
              iVar26 = *(int *)(lVar27 + 0xc + lVar35 * 4);
              if (iVar26 != 0) {
                iVar14 = iVar26;
              }
              *(int *)(lVar27 + 0xc + lVar35 * 4) = iVar14;
              lVar35 = lVar35 + 4;
            } while (lVar35 != 0x80);
          }
          else {
            plVar48 = (long *)(lVar35 + lVar41 + 0x18);
            *(long *)(lVar35 + 0x20 + lVar41) = lVar27;
            local_58 = (int *)((ulong)local_58 & 0xffffffff00000000);
            vector<int,std::allocator<int>>::__append((ulong)plVar48,(int *)&local_58);
            uVar36 = (*(long *)(lVar35 + 8 + lVar41) - *(long *)(lVar35 + lVar41) >> 4) *
                     0x6db6db6db6db6db7;
            if (1 < uVar36) {
              if (uVar36 < 0x80) {
                uVar36 = 0x7f / (uVar36 & 0xffffffff);
              }
              else {
                uVar36 = 0;
              }
              lVar35 = *plVar48;
              lVar46 = 0;
              iVar14 = 0;
              lVar27 = 0;
              do {
                *(int *)(lVar35 + lVar46 * 4) = iVar14;
                lVar41 = uVar36 + 1 + lVar27;
                if (lVar46 == lVar41) {
                  lVar27 = lVar41;
                }
                iVar14 = (uint)(lVar46 == lVar41) + iVar14;
                *(int *)(lVar35 + 4 + lVar46 * 4) = iVar14;
                lVar41 = uVar36 + 1 + lVar27;
                bVar50 = lVar41 == lVar46 + 1;
                if (bVar50) {
                  lVar27 = lVar41;
                }
                iVar14 = (uint)bVar50 + iVar14;
                lVar46 = lVar46 + 2;
              } while (lVar46 != 0x80);
            }
          }
          local_128 = (ulong)((int)local_128 + 1);
LAB_10010f978:
          local_130 = 0;
          break;
        case 0x14:
          local_148 = CInstrumentSerializer::getLong(local_120);
          *(int *)(pCVar18 + 0x50) = (int)local_148;
        }
        pCVar18 = local_120;
        iVar14 = _feof(*(FILE **)(local_120 + 8));
      } while (iVar14 == 0);
      bVar50 = false;
LAB_10010f988:
      if (*(FILE **)pCVar18 != (FILE *)0x0) {
        _fclose(*(FILE **)pCVar18);
      }
      if (*(FILE **)(pCVar18 + 8) != (FILE *)0x0) {
        _fclose(*(FILE **)(pCVar18 + 8));
      }
      if (bVar50) {
        pCVar18[0x58] = (CInstrumentSerializer)0x1;
        lVar35 = *(long *)(pCVar18 + 0x18);
        lVar27 = *(long *)(pCVar18 + 0x20);
        if (lVar27 != lVar35) {
          uVar36 = 0;
          do {
            if (uVar36 < 0x10) {
              local_150 = *(long *)(local_168 + uVar36 * 8);
            }
            else {
              local_150 = 0;
            }
            lVar46 = uVar36 * 0x50;
            uVar33 = (*(long *)(lVar35 + 8 + lVar46) - *(long *)(lVar35 + lVar46) >> 4) *
                     0x6db6db6db6db6db7;
            iVar14 = (int)uVar33;
            if (0 < iVar14) {
              uVar29 = 0;
              do {
                if ((long)uVar29 < (long)(iVar14 + -1)) {
                  lVar35 = *(long *)(*(long *)local_140 + lVar46);
                  uVar51 = *(undefined4 *)(uVar29 * 0x70 + 200 + lVar35);
                }
                else {
                  lVar35 = *(long *)(*(long *)local_140 + lVar46);
                  uVar51 = 0x7f;
                }
                *(undefined4 *)(local_150 + 0x20000 + uVar29 * 4) = uVar51;
                local_180 = uVar29 * 0x70;
                lVar27 = *(long *)(lVar35 + 0x38 + local_180);
                lVar41 = *(long *)(lVar35 + 0x40 + local_180);
                uVar40 = lVar41 - lVar27 >> 2;
                if (0 < (int)uVar40) {
                  local_130 = uVar40 & 0xffffffff;
                  local_1b8 = (int)uVar29;
                  local_178 = (long)local_1b8;
                  local_148 = 0;
                  local_128 = local_128 & 0xffffffff00000000;
                  do {
                    if (local_148 < (ulong)(lVar41 - lVar27 >> 2)) {
                      *(ulong *)(lVar35 + 0x50 + local_180) = local_148;
                      puVar30 = (uint *)(lVar27 + local_148 * 4);
                    }
                    else {
                      puVar30 = &CInstrumentLayer::ReplyMultyWaveByNumber(unsigned_long)::
                                 sLayerMultyWaveDummy;
                      if (CInstrumentLayer::ReplyMultyWaveByNumber(unsigned_long)::
                          sLayerMultyWaveDummy == '\0') {
                        iVar26 = ___cxa_guard_acquire
                                           (&CInstrumentLayer::ReplyMultyWaveByNumber(unsigned_long)
                                             ::sLayerMultyWaveDummy);
                        puVar30 = &CInstrumentLayer::ReplyMultyWaveByNumber(unsigned_long)::
                                   sLayerMultyWaveDummy;
                        if (iVar26 != 0) {
                          CInstrumentLayer::ReplyMultyWaveByNumber(unsigned_long)::
                          sLayerMultyWaveDummy = 0xffffffff;
                          ___cxa_guard_release
                                    (&CInstrumentLayer::ReplyMultyWaveByNumber(unsigned_long)::
                                      sLayerMultyWaveDummy);
                          puVar30 = &CInstrumentLayer::ReplyMultyWaveByNumber(unsigned_long)::
                                     sLayerMultyWaveDummy;
                        }
                      }
                    }
                    uVar47 = *puVar30;
                    uVar40 = (ulong)(int)uVar47;
                    if (uVar40 != 0xffffffffffffffff) {
                      if (uVar40 < *(ulong *)(pCVar18 + 0x48)) {
                        pCVar44 = *(CWaveData **)(*(long *)this_00 + uVar40 * 8);
                        if (pCVar44 == (CWaveData *)0x0) goto LAB_10011005a;
                      }
                      else {
                        pCVar44 = (CWaveData *)
                                  &CWaveDataPool::ReplyWaveData(unsigned_long)::waveDataDummy;
                        if (CWaveDataPool::ReplyWaveData(unsigned_long)::waveDataDummy == '\0') {
                          iVar26 = ___cxa_guard_acquire
                                             (&CWaveDataPool::ReplyWaveData(unsigned_long)::
                                               waveDataDummy);
                          pCVar44 = (CWaveData *)
                                    &CWaveDataPool::ReplyWaveData(unsigned_long)::waveDataDummy;
                          if (iVar26 != 0) {
                            Ram000000010040ff68 = SUB169((undefined1  [16])0x0,7);
                            _waveDataDummy = SUB169((undefined1  [16])0x0,0);
                            DAT_10040ff60._1_7_ = 0;
                            _DAT_10040ff74 = (undefined1  [16])0x0;
                            _DAT_10040ff84 = SUB1613((undefined1  [16])0x0,0);
                            DAT_10040ff90._1_3_ = 0;
                            ram0x00010040ff94 = 0;
                            DAT_10040ff99 = 0xc9;
                            _DAT_10040ffa8 = (undefined1  [16])0x0;
                            _DAT_10040ffb8 = (undefined1  [16])0x0;
                            _DAT_10040ffc8 = (undefined1  [16])0x0;
                            pCVar44 = (CWaveData *)
                                      &CWaveDataPool::ReplyWaveData(unsigned_long)::waveDataDummy;
                            ___cxa_atexit(CWaveData::~CWaveData,
                                          &CWaveDataPool::ReplyWaveData(unsigned_long)::
                                           waveDataDummy,0x100000000);
                            ___cxa_guard_release
                                      (&CWaveDataPool::ReplyWaveData(unsigned_long)::waveDataDummy);
                          }
                        }
                      }
                      CWaveData::decompressToFloatData(pCVar44,0);
                      lVar35 = *(long *)pCVar44;
                      local_158 = *(ulong *)(pCVar44 + 8);
                      pCVar21 = *(CEDWaveItem **)
                                 (local_178 * 0x400 + local_150 + (long)(int)local_128 * 8);
                      CVar7 = pCVar44[0x18];
                      ppVar1 = (pthread_mutex_t *)(pCVar21 + 0x60);
                      _pthread_mutex_lock(ppVar1);
                      *(undefined4 *)(pCVar21 + 0x50) = 0;
                      *(undefined4 *)(pCVar21 + 0x5c) = 0;
                      pCVar21[0x54] = (CEDWaveItem)0x0;
                      local_138 = pCVar21;
                      _pthread_mutex_unlock(ppVar1);
                      local_160 = ppVar1;
                      _pthread_mutex_lock(ppVar1);
                      piVar16 = (int *)(*(long *)local_138 + -0x10);
                      if (piVar16 != &juce::emptyString) {
                        LOCK();
                        iVar26 = *piVar16;
                        *piVar16 = *piVar16 + -1;
                        UNLOCK();
                        if (iVar26 == 0) {
                          operator_delete__(piVar16);
                        }
                      }
                      *(undefined1 **)local_138 = &DAT_10040e770;
                      piVar16 = (int *)(*(long *)(local_138 + 8) + -0x10);
                      if (piVar16 != &juce::emptyString) {
                        LOCK();
                        iVar26 = *piVar16;
                        *piVar16 = *piVar16 + -1;
                        UNLOCK();
                        if (iVar26 == 0) {
                          operator_delete__(piVar16);
                        }
                      }
                      *(undefined1 **)(local_138 + 8) = &DAT_10040e770;
                      *(undefined1 (*) [16])(local_138 + 0x10) = (undefined1  [16])0x0;
                      local_138[0x20] = (CEDWaveItem)0x0;
                      if (*(void **)(local_138 + 0x28) != (void *)0x0) {
                        operator_delete__(*(void **)(local_138 + 0x28));
                      }
                      ppVar1 = local_160;
                      *(long *)(local_138 + 0x28) = 0;
                      local_138[0x54] = (CEDWaveItem)0x0;
                      local_138[0x4c] = (CEDWaveItem)0x0;
                      *(undefined1 (*) [16])(local_138 + 0x34) = (undefined1  [16])0x0;
                      *(undefined4 *)(local_138 + 0x44) = 0;
                      *(undefined4 *)(local_138 + 0x30) = 0x3f800000;
                      _pthread_mutex_unlock(local_160);
                      _pthread_mutex_lock(ppVar1);
                      iVar26 = 2 - (uint)(CVar7 == (CWaveData)0x0);
                      *(undefined4 *)(local_138 + 0x10) = 0x472c4400;
                      *(int *)(local_138 + 0x14) = iVar26;
                      uVar49 = (uint)local_158;
                      *(uint *)(local_138 + 0x18) = uVar49;
                      *(int *)(local_138 + 0x1c) =
                           (int)((long)((ulong)(uint)((int)uVar49 >> 0x1f) << 0x20 |
                                       local_158 & 0xffffffff) / (long)iVar26);
                      *(CWaveData *)(local_138 + 0x20) = CVar7;
                      if (lVar35 != 0) {
                        uVar45 = local_158 & 0xffffffff;
                        auVar9._8_8_ = 0;
                        auVar9._0_8_ = (long)(int)uVar49;
                        uVar40 = SUB168(auVar9 * ZEXT816(4),0);
                        if (SUB168(auVar9 * ZEXT816(4),8) != 0) {
                          uVar40 = 0xffffffffffffffff;
                        }
                        pvVar25 = operator_new__(uVar40);
                        *(void **)(local_138 + 0x28) = pvVar25;
                        ___bzero(pvVar25,(long)(uVar45 << 0x20) >> 0x1e);
                        pCVar21 = local_138;
                        if (0 < (int)uVar49) {
                          if (uVar49 < 8) {
                            uVar40 = 0;
                          }
                          else {
                            uVar40 = (ulong)(uVar49 & 0xfffffff8);
                            uVar34 = (uVar40 - 8 >> 3) + 1;
                            uVar31 = (ulong)((uint)uVar34 & 3);
                            if (uVar40 - 8 < 0x18) {
                              lVar41 = 0;
                            }
                            else {
                              lVar27 = -(uVar34 & 0xfffffffffffffffc);
                              lVar41 = 0;
                              do {
                                puVar6 = (undefined8 *)(lVar35 + lVar41 * 4);
                                uVar22 = puVar6[1];
                                puVar4 = (undefined8 *)(lVar35 + 0x10 + lVar41 * 4);
                                uVar10 = *puVar4;
                                uVar11 = puVar4[1];
                                puVar4 = (undefined8 *)((long)pvVar25 + lVar41 * 4);
                                *puVar4 = *puVar6;
                                puVar4[1] = uVar22;
                                puVar4 = (undefined8 *)((long)pvVar25 + lVar41 * 4 + 0x10);
                                *puVar4 = uVar10;
                                puVar4[1] = uVar11;
                                puVar4 = (undefined8 *)(lVar35 + 0x20 + lVar41 * 4);
                                uVar22 = puVar4[1];
                                puVar6 = (undefined8 *)(lVar35 + 0x30 + lVar41 * 4);
                                uVar10 = *puVar6;
                                uVar11 = puVar6[1];
                                puVar6 = (undefined8 *)((long)pvVar25 + lVar41 * 4 + 0x20);
                                *puVar6 = *puVar4;
                                puVar6[1] = uVar22;
                                puVar4 = (undefined8 *)((long)pvVar25 + lVar41 * 4 + 0x30);
                                *puVar4 = uVar10;
                                puVar4[1] = uVar11;
                                puVar4 = (undefined8 *)(lVar35 + 0x40 + lVar41 * 4);
                                uVar22 = puVar4[1];
                                puVar6 = (undefined8 *)(lVar35 + 0x50 + lVar41 * 4);
                                uVar10 = *puVar6;
                                uVar11 = puVar6[1];
                                puVar6 = (undefined8 *)((long)pvVar25 + lVar41 * 4 + 0x40);
                                *puVar6 = *puVar4;
                                puVar6[1] = uVar22;
                                puVar4 = (undefined8 *)((long)pvVar25 + lVar41 * 4 + 0x50);
                                *puVar4 = uVar10;
                                puVar4[1] = uVar11;
                                puVar4 = (undefined8 *)(lVar35 + 0x60 + lVar41 * 4);
                                uVar22 = puVar4[1];
                                puVar6 = (undefined8 *)(lVar35 + 0x70 + lVar41 * 4);
                                uVar10 = *puVar6;
                                uVar11 = puVar6[1];
                                puVar6 = (undefined8 *)((long)pvVar25 + lVar41 * 4 + 0x60);
                                *puVar6 = *puVar4;
                                puVar6[1] = uVar22;
                                puVar4 = (undefined8 *)((long)pvVar25 + lVar41 * 4 + 0x70);
                                *puVar4 = uVar10;
                                puVar4[1] = uVar11;
                                lVar41 = lVar41 + 0x20;
                                lVar27 = lVar27 + 4;
                              } while (lVar27 != 0);
                            }
                            if (uVar31 != 0) {
                              lVar27 = lVar41 * 4 + 0x10 + lVar35;
                              lVar43 = 0;
                              do {
                                puVar6 = (undefined8 *)(lVar27 + -0x10 + lVar43);
                                uVar22 = puVar6[1];
                                puVar4 = (undefined8 *)(lVar27 + lVar43);
                                uVar10 = *puVar4;
                                uVar11 = puVar4[1];
                                puVar4 = (undefined8 *)((long)pvVar25 + lVar43 + lVar41 * 4);
                                *puVar4 = *puVar6;
                                puVar4[1] = uVar22;
                                puVar4 = (undefined8 *)((long)pvVar25 + lVar43 + lVar41 * 4 + 0x10);
                                *puVar4 = uVar10;
                                puVar4[1] = uVar11;
                                lVar43 = lVar43 + 0x20;
                              } while (uVar31 << 5 != lVar43);
                            }
                            if (uVar40 == uVar45) goto LAB_10010fea5;
                          }
                          do {
                            *(undefined4 *)((long)pvVar25 + uVar40 * 4) =
                                 *(undefined4 *)(lVar35 + uVar40 * 4);
                            uVar40 = uVar40 + 1;
                          } while (uVar45 != uVar40);
                        }
LAB_10010fea5:
                        local_138[0x4c] = (CEDWaveItem)0x1;
                        CEDWaveItem::buildStats2band(local_138);
                        puVar15 = operator_new__(0x23);
                        this_01 = (String *)(pCVar21 + 8);
                        LOCK();
                        *puVar15 = 0;
                        UNLOCK();
                        *(undefined8 *)(puVar15 + 2) = 0xc;
                        *(undefined8 *)(puVar15 + 4) = 0x6576617720494354;
                        *(undefined2 *)(puVar15 + 6) = 0x20;
                        lVar35 = *(long *)this_01;
                        *(undefined4 **)this_01 = puVar15 + 4;
                        piVar16 = (int *)(lVar35 + -0x10);
                        if (piVar16 == &juce::emptyString) {
LAB_10010ff15:
                          if (-2 < (int)uVar47) goto LAB_10010ff1b;
LAB_10010ff6b:
                          pbVar39 = local_3b + 1;
                          uVar47 = ~uVar47;
                          do {
                            *pbVar39 = (char)uVar47 + (char)(uVar47 / 10) * -10 | 0x30;
                            pbVar39 = pbVar39 + -1;
                            bVar50 = 9 < uVar47;
                            uVar47 = uVar47 / 10;
                          } while (bVar50);
                          *pbVar39 = 0x2d;
                        }
                        else {
                          LOCK();
                          iVar26 = *piVar16;
                          *piVar16 = *piVar16 + -1;
                          UNLOCK();
                          if (iVar26 != 0) goto LAB_10010ff15;
                          operator_delete__(piVar16);
                          if ((int)uVar47 < -1) goto LAB_10010ff6b;
LAB_10010ff1b:
                          uVar47 = uVar47 + 1;
                          pbVar39 = local_3b + 2;
                          do {
                            pbVar39[-1] = (char)uVar47 + (char)(uVar47 / 10) * -10 | 0x30;
                            pbVar39 = pbVar39 + -1;
                            bVar50 = 9 < uVar47;
                            uVar47 = uVar47 / 10;
                          } while (bVar50);
                        }
                        local_3b[2] = 0;
                        local_1b0 = juce::StringHolderUtils::createFromFixedLength
                                              ((char *)pbVar39,(long)&local_38 + ~(ulong)pbVar39);
                        juce::String::operator+=(this_01,(String *)&local_1b0);
                        piVar16 = (int *)(local_1b0 + -0x10);
                        if (piVar16 != &juce::emptyString) {
                          LOCK();
                          iVar26 = *piVar16;
                          *piVar16 = *piVar16 + -1;
                          UNLOCK();
                          if (iVar26 == 0) {
                            operator_delete__(piVar16);
                          }
                        }
                      }
                      ppVar1 = local_160;
                      lVar35 = *(long *)local_138;
                      *(undefined1 **)local_138 = &DAT_10040e770;
                      piVar16 = (int *)(lVar35 + -0x10);
                      if (piVar16 != &juce::emptyString) {
                        LOCK();
                        iVar26 = *piVar16;
                        *piVar16 = *piVar16 + -1;
                        UNLOCK();
                        if (iVar26 == 0) {
                          operator_delete__(piVar16);
                        }
                      }
                      _pthread_mutex_unlock(ppVar1);
                      local_128 = CONCAT44(local_128._4_4_,(int)local_128 + 1);
                      pCVar18 = local_120;
                    }
LAB_10011005a:
                    local_148 = local_148 + 1;
                    if (local_148 == local_130) break;
                    lVar35 = *(long *)(*(long *)local_140 + lVar46);
                    lVar27 = *(long *)(lVar35 + 0x38 + local_180);
                    lVar41 = *(long *)(lVar35 + 0x40 + local_180);
                  } while( true );
                }
                uVar29 = uVar29 + 1;
              } while (uVar29 != (uVar33 & 0xffffffff));
              lVar35 = *(long *)(pCVar18 + 0x18);
              lVar27 = *(long *)(pCVar18 + 0x20);
            }
            uVar36 = uVar36 + 1;
            uVar33 = (lVar27 - lVar35 >> 4) * -0x3333333333333333;
          } while (uVar36 <= uVar33 && uVar33 - uVar36 != 0);
        }
      }
      else {
        pCVar18[0x58] = (CInstrumentSerializer)0x0;
        lVar35 = *(long *)(pCVar18 + 0x30);
        lVar27 = *(long *)(pCVar18 + 0x38);
        if (lVar27 != lVar35) {
          uVar36 = 0;
          do {
            pCVar44 = *(CWaveData **)(lVar35 + uVar36 * 8);
            if (pCVar44 != (CWaveData *)0x0) {
              CWaveData::~CWaveData(pCVar44);
              operator_delete(pCVar44);
              *(undefined8 *)(*(long *)(pCVar18 + 0x30) + uVar36 * 8) = 0;
              lVar35 = *(long *)(pCVar18 + 0x30);
              lVar27 = *(long *)(pCVar18 + 0x38);
            }
            uVar36 = uVar36 + 1;
          } while (uVar36 < (ulong)(lVar27 - lVar35 >> 3));
        }
        *(long *)(pCVar18 + 0x38) = lVar35;
        pCVar38 = *(CInstrumentArticulation **)(pCVar18 + 0x18);
        pCVar37 = *(CInstrumentArticulation **)(pCVar18 + 0x20);
        while (pCVar37 != pCVar38) {
          pCVar37 = pCVar37 + -0x50;
          CInstrumentArticulation::~CInstrumentArticulation(pCVar37);
        }
        *(CInstrumentArticulation **)(pCVar18 + 0x20) = pCVar38;
      }
    }
    else {
LAB_10010ee3f:
      if (*(FILE **)pCVar18 != (FILE *)0x0) {
        _fclose(*(FILE **)pCVar18);
      }
      if (*(FILE **)(pCVar18 + 8) != (FILE *)0x0) {
        _fclose(*(FILE **)(pCVar18 + 8));
      }
    }
    if ((local_198 & 1) != 0) {
      operator_delete(local_188);
    }
  }
  lVar35 = local_1a0;
  pvVar25 = *(void **)(pCVar18 + 0x30);
  pvVar23 = *(void **)(pCVar18 + 0x38);
  if (pvVar23 != pvVar25) {
    uVar36 = 0;
    do {
      pCVar44 = *(CWaveData **)((long)pvVar25 + uVar36 * 8);
      if (pCVar44 != (CWaveData *)0x0) {
        CWaveData::~CWaveData(pCVar44);
        operator_delete(pCVar44);
        *(undefined8 *)(*(long *)(local_120 + 0x30) + uVar36 * 8) = 0;
        pvVar25 = *(void **)(local_120 + 0x30);
        pvVar23 = *(void **)(local_120 + 0x38);
      }
      uVar36 = uVar36 + 1;
    } while (uVar36 < (ulong)((long)pvVar23 - (long)pvVar25 >> 3));
  }
  pCVar18 = local_120;
  *(void **)(local_120 + 0x38) = pvVar25;
  if (pvVar25 != (void *)0x0) {
    *(void **)(local_120 + 0x38) = pvVar25;
    operator_delete(pvVar25);
  }
  pCVar38 = *(CInstrumentArticulation **)local_140;
  if (pCVar38 != (CInstrumentArticulation *)0x0) {
    pCVar37 = *(CInstrumentArticulation **)(pCVar18 + 0x20);
    pCVar42 = pCVar38;
    if (pCVar37 != pCVar38) {
      do {
        pCVar37 = pCVar37 + -0x50;
        CInstrumentArticulation::~CInstrumentArticulation(pCVar37);
      } while (pCVar38 != pCVar37);
      pCVar42 = *(CInstrumentArticulation **)local_140;
    }
    pCVar18 = local_120;
    *(CInstrumentArticulation **)(local_120 + 0x20) = pCVar38;
    operator_delete(pCVar42);
  }
  operator_delete(pCVar18);
  operator_delete(plVar17);
  CArtEditorPane::Build(*(CArtEditorPane **)(lVar35 + 0x278));
  juce::Component::internalRepaintUnchecked(local_1a0,0,*(undefined8 *)(local_1a0 + 0x40),1);
  if (local_170 != &juce::emptyString) {
    LOCK();
    iVar14 = *local_170;
    *local_170 = *local_170 + -1;
    UNLOCK();
    if (iVar14 == 0) {
      operator_delete__(local_170);
    }
  }
  piVar16 = (int *)(local_1a8 + -0x10);
  if (piVar16 != &juce::emptyString) {
    LOCK();
    iVar14 = *piVar16;
    *piVar16 = *piVar16 + -1;
    UNLOCK();
    if (iVar14 == 0) {
      operator_delete__(piVar16);
    }
  }
LAB_10010efd5:
  juce::FileChooser::~FileChooser(local_118);
  if (*(long *)PTR____stack_chk_guard_1003d82a0 != local_38) {
                    /* WARNING: Subroutine does not return */
    ___stack_chk_fail();
  }
  return;
}


